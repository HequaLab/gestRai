/*
 * File: app/view/frmServGenerali.js
 *
 * This file was generated by Sencha Architect version 3.2.0.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 5.1.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 5.1.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('Rai.view.frmServGenerali', {
    extend: 'Ext.panel.Panel',
    alias: 'widget.frmServGenerali',

    requires: [
        'Rai.view.frmServGeneraliViewModel',
        'Rai.view.frmServGeneraliViewController',
        'Ext.grid.Panel',
        'Ext.grid.filters.filter.String',
        'Ext.grid.column.Date',
        'Ext.form.field.Date',
        'Ext.grid.filters.filter.Date',
        'Ext.grid.column.Number',
        'Ext.form.field.Number',
        'Ext.grid.filters.filter.Number',
        'Ext.form.field.Time',
        'Ext.view.Table',
        'Ext.toolbar.Paging',
        'Ext.grid.plugin.CellEditing',
        'Ext.grid.column.Action',
        'Ext.grid.filters.Filters'
    ],

    controller: 'frmservgenerali',
    viewModel: {
        type: 'frmservgenerali'
    },
    height: 669,
    id: 'frmServGenerali',
    padding: 0,
    width: 1138,
    title: '',

    layout: {
        type: 'border',
        padding: 1
    },
    items: [
        {
            xtype: 'gridpanel',
            region: 'center',
            id: 'elencoGrid',
            animCollapse: false,
            title: 'Elenco richieste servizi',
            store: 'storeRichiesteServizi',
            columns: [
                {
                    xtype: 'gridcolumn',
                    renderer: function(value, metaData, record, rowIndex, colIndex, store, view) {
                        /*
                        if (record.get('operatore') === 'admin') {
                        // metaData.css = 'toolbarFilter';
                    }
                    */

                    return value;
                    },
                    dataIndex: 'operatore',
                    text: 'Operatore',
                    flex: 1,
                    filter: {
                        type: 'string'
                    }
                },
                {
                    xtype: 'gridcolumn',
                    renderer: function(value, metaData, record, rowIndex, colIndex, store, view) {
                        /*
                        if (record.get('operatore') === 'admin') {
                        // metaData.css = 'toolbarFilter';
                    }
                    */

                    return value;
                    },
                    dataIndex: 'nome',
                    text: 'Servizio',
                    flex: 1,
                    filter: {
                        type: 'string'
                    }
                },
                {
                    xtype: 'gridcolumn',
                    dataIndex: 'tipologia',
                    text: 'Tipologia',
                    flex: 1,
                    filter: {
                        type: 'string'
                    }
                },
                {
                    xtype: 'gridcolumn',
                    dataIndex: 'lotto',
                    text: 'Lotto',
                    flex: 1,
                    filter: {
                        type: 'string'
                    }
                },
                {
                    xtype: 'gridcolumn',
                    dataIndex: 'produzione',
                    text: 'Produzione',
                    flex: 1,
                    filter: {
                        type: 'string'
                    }
                },
                {
                    xtype: 'gridcolumn',
                    dataIndex: 'matricola',
                    text: 'Matricola',
                    flex: 1,
                    filter: {
                        type: 'string'
                    }
                },
                {
                    xtype: 'gridcolumn',
                    dataIndex: 'luogo',
                    text: 'Luogo',
                    flex: 1,
                    filter: {
                        type: 'string'
                    }
                },
                {
                    xtype: 'datecolumn',
                    dataIndex: 'data',
                    text: 'Data inizio',
                    flex: 0.8,
                    format: 'd-m-Y',
                    editor: {
                        xtype: 'datefield',
                        name: 'Data'
                    },
                    filter: {
                        type: 'date'
                    }
                },
                {
                    xtype: 'numbercolumn',
                    dataIndex: 'ore',
                    text: 'Ore/Q.ta',
                    flex: 0.8,
                    editor: {
                        xtype: 'numberfield',
                        name: 'Ore'
                    },
                    filter: {
                        type: 'number'
                    }
                },
                {
                    xtype: 'gridcolumn',
                    dataIndex: 'ora',
                    text: 'Ora',
                    flex: 0.5,
                    editor: {
                        xtype: 'timefield',
                        name: 'Ora'
                    },
                    filter: {
                        type: 'string'
                    }
                },
                {
                    xtype: 'datecolumn',
                    dataIndex: 'dataFine',
                    text: 'Data fine',
                    flex: 0.8,
                    format: 'd-m-Y',
                    editor: {
                        xtype: 'datefield',
                        name: 'Data'
                    },
                    filter: {
                        type: 'date'
                    }
                },
                {
                    xtype: 'gridcolumn',
                    renderer: function(value, metaData, record, rowIndex, colIndex, store, view) {


                        if (value === "Approvato"){
                            return '<span style="color:' + "#73b51e" + ';">' + "<b>"  + value + " da " + record.get('utenteApprovante') + "</b>"+ '</span>';
                        }
                        else if ( value === "Non approvato"){
                            return '<span style="color:' + "#cf4c35" + ';">' + value + " da " + record.get('utenteApprovante') + '</span>';
                        }
                        else if ( value === "Erogato"){
                            return '<span style="color:' + "#0277BD" + ';"><b>' + value + '</b></span>';
                        }
                        else if ( value === "In lavorazione"){
                            return '<span style="color:' + "#AFB42B" + ';"><b>' + value + '</b></span>';
                        }
                        else if ( value === "Nessuno"){
                            return '<span style="color:' + "#795548" + ';"><b>' + value + '</b></span>';
                        }
                        else if ( value === "Eliminato"){
                            return '<span style="color:' + "#D50000" + ';"><b>' + value +  " da " + record.get('utenteApprovante') + '</b></span>';
                        }


                        else return value;
                    },
                    dataIndex: 'stato',
                    groupable: true,
                    text: 'Stato',
                    flex: 1.5,
                    filter: {
                        type: 'string'
                    }
                },
                {
                    xtype: 'actioncolumn',
                    align: 'center',
                    text: 'Azioni',
                    flex: 1,
                    items: [
                        {
                            handler: function(view, rowIndex, colIndex, item, e, record, row) {
                                var s = record.get('stato');
                                if ( s === 'Nessuno' || s === 'Non approvato'){
                                    Ext.Msg.show({
                                        title:'Operazione non permessa',
                                        msg: "La richiesta non è stata approvata, non è presente nessuno report",
                                        buttons: Ext.Msg.Ok,
                                    });
                                    return;
                                }


                                var stato = 'approvato';
                                if (record.get('stato') == 'Erogato')stato = 'erogato';
                                var nomeReport = 'report_' + record.get('richiestaNuovoServizioId') + "_" + stato + '.pdf';


                                var win = Ext.create('Ext.window.Window', {
                                    height: 634,
                                    width: 780,
                                    layout: 'border',
                                    title: 'Report servizio',
                                    titleAlign: 'center',
                                    maximizable: true,
                                    closeAction: 'hide',
                                    items: [{
                                        xtype: 'component',
                                        html : '<iframe src="../files/'+ nomeReport + '" width="100%" height="100%"></iframe>',
                                    }]
                                });
                                win.show();
                            },
                            icon: 'data:image/png;base64,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',
                            tooltip: 'Visualizza report PDF'
                        },
                        {
                            handler: function(view, rowIndex, colIndex, item, e, record, row) {
                                Ext.Msg.show({
                                    title:'Richiesta conferma',
                                    msg: 'Stai per approvare la richiesta, vuoi continuare??',
                                    buttons: Ext.Msg.YESNO,
                                    buttonText: {
                                        no:'No',
                                        yes:'Si'
                                    },
                                    fn: function(btn){
                                        if (btn=='yes'){

                                            if (record.get('stato') === "Approvato"){
                                                Ext.Msg.show({
                                                    title:'Operazione non permessa',
                                                    msg: "La richiesta è stata approvata, non sono permesse modifiche",
                                                    buttons: Ext.Msg.Ok,
                                                });
                                                return;
                                            }else if (record.get('stato') === "Non approvato"){
                                                Ext.Msg.show({
                                                    title:'Operazione non permessa',
                                                    msg: "La richiesta non è stata approvata, non sono permesse modifiche",
                                                    buttons: Ext.Msg.Ok,
                                                });
                                                return;
                                            }
                                            else if (record.get('stato') === "Cancellato"){
                                                Ext.Msg.show({
                                                    title:'Operazione non permessa',
                                                    msg: "La richiesta è stata cancellata, non sono permesse modifiche",
                                                    buttons: Ext.Msg.Ok,
                                                });
                                                return;
                                            }
                                            else if (record.get('stato') === "In lavorazione"){
                                                Ext.Msg.show({
                                                    title:'Operazione non permessa',
                                                    msg: "La richiesta è in lavorazione, non sono permesse modifiche",
                                                    buttons: Ext.Msg.Ok,
                                                });
                                                return;
                                            }
                                            else if (record.get('stato') === "Erogato"){
                                                Ext.Msg.show({
                                                    title:'Operazione non permessa',
                                                    msg: "Il servizio è stato erogato, non sono permesse modifiche",
                                                    buttons: Ext.Msg.Ok,
                                                });
                                                return;
                                            }

                                            // record.set('stato',"Approvato");

                                            Ext.MessageBox.wait('Approvazione della richiesta in corso..');
                                            Ext.Ajax.request({
                                                url: '/richiestaNuovoServizio/approvaRichiesta/' + record.get('richiestaNuovoServizioId'),
                                                headers: {
                                                    'Authorization': 'Bearer ' + ACCESS_TOKEN,
                                                },
                                                method:'POST',
                                                success: function (response, options) {
                                                    Ext.StoreManager.lookup('storeRichiesteServizi').load();
                                                    Ext.MessageBox.updateProgress(1);
                                                    Ext.MessageBox.hide();
                                                    Ext.Msg.show({
                                                        title:'Richiesta approvata',
                                                        msg: "Richiesta approvata con successo.",
                                                        buttons: Ext.Msg.Ok,
                                                    });},
                                                    failure: function (response, options) {
                                                        Ext.MessageBox.updateProgress(1);
                                                        Ext.MessageBox.hide();
                                                        Ext.Msg.show({
                                                            title:'Errore con il server',
                                                            msg: "C'è stato un errore durante l'approvazione della richiesta. Errore: " + response.status,
                                                            buttons: Ext.Msg.Ok,
                                                        });
                                                    }


                                                });


                                            }
                                        },
                                        animEl: 'elId'
                                    });








                            },
                            icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABK0lEQVQ4T6WTzW2DQBBG3zjh7hJcAi1wtTnsVmBSQZwO6CBxB3YDsFJwlFsogRIogWOk/Gy0CNASI4iUPe7M92Z25xvhn0ecfpurZAX7P7CaQhvt8lSu1kabRuJcpdZyEOFpCSBQ3UD5AW8Cm2+IZJepZiUkz9qYJYCr2onDLrftwAJRoU05B5gQu/TjCOCSPmFfaHP0YVNiC+eLNskAuIWqb8/C6aLNXf9Zv9qmF7v4ALAQCjz2lR0kgIc58Qjg/mCXq5OMx9kAaw96DuDwDutXbeorgLuYgLT6vu0uXhfapJOAKYj/5jhTJUI5C/AhvtjdXwHmjLTNVfiiTeWPNM5UZaWdUuvc1srAPSxbGQitJQqEjduDFjAskyVZsrIV6i9I+wkMgCXhXPwH92avn25K/20AAAAASUVORK5CYII=',
                            tooltip: 'Approva la richiesta'
                        },
                        {
                            handler: function(view, rowIndex, colIndex, item, e, record, row) {

                                Ext.Msg.show({
                                    title:'Richiesta conferma',
                                    msg: 'Stai per rifiutare la richiesta, vuoi continuare??',
                                    buttons: Ext.Msg.YESNO,
                                    buttonText: {
                                        no:'No',
                                        yes:'Si'
                                    },
                                    fn: function(btn){
                                        if (btn=='yes'){

                                            if (record.get('stato') === "Approvato"){
                                                Ext.Msg.show({
                                                    title:'Operazione non permessa',
                                                    msg: "La richiesta è stata approvata, non sono permesse modifiche",
                                                    buttons: Ext.Msg.Ok,
                                                });
                                                return;
                                            }else if (record.get('stato') === "Non approvato"){
                                                Ext.Msg.show({
                                                    title:'Operazione non permessa',
                                                    msg: "La richiesta non è stata approvata, non sono permesse modifiche",
                                                    buttons: Ext.Msg.Ok,
                                                });
                                                return;
                                            }
                                            else if (record.get('stato') === "Cancellato"){
                                                Ext.Msg.show({
                                                    title:'Operazione non permessa',
                                                    msg: "La richiesta è stata cancellata, non sono permesse modifiche",
                                                    buttons: Ext.Msg.Ok,
                                                });
                                                return;
                                            }
                                            else if (record.get('stato') === "In lavorazione"){
                                                Ext.Msg.show({
                                                    title:'Operazione non permessa',
                                                    msg: "La richiesta è in lavorazione, non sono permesse modifiche",
                                                    buttons: Ext.Msg.Ok,
                                                });
                                                return;
                                            }
                                            else if (record.get('stato') === "Erogato"){
                                                Ext.Msg.show({
                                                    title:'Operazione non permessa',
                                                    msg: "Il servizio è stato erogato, non sono permesse modifiche",
                                                    buttons: Ext.Msg.Ok,
                                                });
                                                return;
                                            }


                                            Ext.MessageBox.wait('Rifiuto della richiesta in corso...');
                                            Ext.Ajax.request({
                                                url: '/richiestaNuovoServizio/rifiutaRichiesta/' + record.get('richiestaNuovoServizioId'),
                                                headers: {
                                                    'Authorization': 'Bearer ' + ACCESS_TOKEN,
                                                },
                                                method:'POST',
                                                success: function (response, options) {
                                                    Ext.StoreManager.lookup('storeRichiesteServizi').load();
                                                    Ext.MessageBox.updateProgress(1);
                                                    Ext.MessageBox.hide();
                                                    Ext.Msg.show({
                                                        title:'Richiesta rifiutata',
                                                        msg: "Richiesta rifiutata con successo.",
                                                        buttons: Ext.Msg.Ok,
                                                    });},
                                                    failure: function (response, options) {
                                                        Ext.MessageBox.updateProgress(1);
                                                        Ext.MessageBox.hide();Ext.Msg.show({
                                                            title:'Errore con il server',
                                                            msg: "C'è stato un errore durante il rifiuto della richiesta. Errore: " + response.status,
                                                            buttons: Ext.Msg.Ok,
                                                        });
                                                    }


                                                });
                                            }
                                        },
                                        animEl: 'elId'
                                    });






                            },
                            icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABZ0lEQVQ4T5VTMVLDMBDcy5Aa+EF4AeYFuGHsjjCDe3hBQufwAOyO5AXQK4Xp4qEg/MC8AJ6Q1GFYRrKVyAqEQZ183t273ZPAO2k/7skeBxCEgAR1mRWIOT9lkhezDxci7iVNorFABj5p606Os2l5Y7+tCdIkqgRybAsElwKpjD4YCGR/Q8QqU+WJvhsCV1kDARnmavbY6u4yKkTk3BGY5Kocipm5i/dGadnBV3inno2yPWkSXwnw4I/GFY6krY7rLWUPTPLJdkJwognM7Lr1XJUHu5SJWiBNokXtCSsZJTEb0GumZuFvbVuwro+SeA7g1Jj4E4E/swveIljHRy6yaXn4F7hJzYxA8K1lIsACkP4mqt2m1iY6MboG+m3r2m1yFpCdF4gYs02M/iLVJCwyVV5sJULer8FgvUgb19urDHLBZpUFDCzQT+zfj0nPrZWtcIvAjNOPe+hS/xDax6XdBjDHSsb+c/4GOP3Lq93zK2QAAAAASUVORK5CYII=',
                            tooltip: 'Non approvare la richiesta'
                        },
                        {
                            handler: function(view, rowIndex, colIndex, item, e, record, row) {

                                Ext.Msg.show({
                                    title:'Richiesta conferma',
                                    msg: 'Stai per eliminare la richiesta, vuoi continuare??',
                                    buttons: Ext.Msg.YESNO,
                                    buttonText: {
                                        no:'No',
                                        yes:'Si'
                                    },
                                    fn: function(btn){
                                        if (btn=='yes'){

                                            if (record.get('stato') === "Approvato"){
                                                Ext.Msg.show({
                                                    title:'Operazione non permessa',
                                                    msg: "La richiesta è stata approvata, non sono permesse modifiche",
                                                    buttons: Ext.Msg.Ok,
                                                });
                                                return;
                                            }else if (record.get('stato') === "Non approvato"){
                                                Ext.Msg.show({
                                                    title:'Operazione non permessa',
                                                    msg: "La richiesta non è stata approvata, non sono permesse modifiche",
                                                    buttons: Ext.Msg.Ok,
                                                });
                                                return;
                                            }
                                            else if (record.get('stato') === "Cancellato"){
                                                Ext.Msg.show({
                                                    title:'Operazione non permessa',
                                                    msg: "La richiesta è stata cancellata, non sono permesse modifiche",
                                                    buttons: Ext.Msg.Ok,
                                                });
                                                return;
                                            }
                                            else if (record.get('stato') === "In lavorazione"){
                                                Ext.Msg.show({
                                                    title:'Operazione non permessa',
                                                    msg: "La richiesta è in lavorazione, non sono permesse modifiche",
                                                    buttons: Ext.Msg.Ok,
                                                });
                                                return;
                                            }
                                            else if (record.get('stato') === "Erogato"){
                                                Ext.Msg.show({
                                                    title:'Operazione non permessa',
                                                    msg: "Il servizio è stato erogato, non sono permesse modifiche",
                                                    buttons: Ext.Msg.Ok,
                                                });
                                                return;
                                            }


                                            /*
                                            Possibilità di eliminare la richiesta ad operatore [Il manager devono poter eliminare una richiesta anche approvata
                                            ma possono farlo al massimo fino a 12 ore prima dall’inizio della richiesta
                                            */

                                            Ext.MessageBox.wait('Rimozione della richiesta in corso...');

                                            Ext.Ajax.request({
                                                url: '/richiestaNuovoServizio/eliminaRichiesta/' + record.get('richiestaNuovoServizioId'),
                                                headers: {
                                                    'Authorization': 'Bearer ' + ACCESS_TOKEN,
                                                },
                                                method:'POST',
                                                success: function (response, options) {
                                                    Ext.StoreManager.lookup('storeRichiesteServizi').load();
                                                    Ext.MessageBox.updateProgress(1);
                                                    Ext.MessageBox.hide();

                                                    Ext.Msg.show({
                                                        title:'Richiesta eliminata',
                                                        msg: "Richiesta eliminata",
                                                        buttons: Ext.Msg.Ok,
                                                    });},
                                                    failure: function (response, options) {
                                                        Ext.MessageBox.updateProgress(1);
                                                        Ext.MessageBox.hide();
                                                        Ext.Msg.show({
                                                            title:'Errore con il server',
                                                            msg: "C'è stato un errore durante l'eliminazione della richiesta. Errore: " + response.status,
                                                            buttons: Ext.Msg.Ok,
                                                        });
                                                    }


                                                });


                                            }
                                        },
                                        animEl: 'elId'
                                    });






                            },
                            icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAy0lEQVQ4T+2SPQ6CQBCF3ywtxKNoA60KB9Cj4A24gRxFDwBiC40exWDLjpmNaPhxo7Gwcbt5M/vNy8sQRt41CnhMd7OS+vpAkAEDYL1hhZPUpDEDqa0VUEfBjoDV2Oa+xsDey8q1gbfNOgwSgBfvAAAqvLxMOgBjPfRTEKZWCOPs5lXcznQyqEO/IKK5DcDMRy+vHk4HAPksAxIkk14am6wOEqAsaPsvHfwBz5B+FyIRJo5G3CgqAL4fDKWO5kWjkDLjYr2Drw/pU8ANZfC4EZwIficAAAAASUVORK5CYII=',
                            tooltip: 'Cancella la richiesta'
                        }
                    ]
                }
            ],
            dockedItems: [
                {
                    xtype: 'pagingtoolbar',
                    dock: 'bottom',
                    width: 360,
                    displayInfo: true,
                    store: 'storeRichiesteServizi'
                }
            ],
            plugins: [
                {
                    ptype: 'cellediting'
                },
                {
                    ptype: 'gridfilters'
                }
            ]
        }
    ],
    listeners: {
        afterrender: 'onFrmServGeneraliAfterRender',
        destroy: 'onFrmServGeneraliDestroy'
    }

});