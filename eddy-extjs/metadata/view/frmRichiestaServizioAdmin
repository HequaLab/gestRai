{
    "type": "Ext.panel.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "container|padding": 2,
        "designer|userAlias": "frmRichiestaAdmin",
        "designer|userClassName": "frmRichiestaServizioAdmin",
        "height": 753,
        "id": "frmRichiestaServizioAdmin",
        "layout": "border",
        "padding": 0,
        "title": "Area servizi",
        "titleAlign": "center",
        "width": 1278
    },
    "name": "frmRichiestaNuovoServizio1",
    "designerId": "acec3ec5-977e-4529-9c80-2b5334cd1dc0",
    "viewControllerInstanceId": "99ddb3dd-53e2-4a2e-a49b-b7f6b4f8ed84",
    "viewModelInstanceId": "9178066f-bbbd-4ceb-a86f-c4249156cc8d",
    "cn": [
        {
            "type": "Ext.toolbar.Toolbar",
            "reference": {
                "name": "dockedItems",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "dock": "top"
            },
            "name": "MyToolbar",
            "designerId": "5ed69aa9-c681-41a0-9943-4a7e25b5efc2",
            "cn": [
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "hidden": true,
                        "id": "popButton1",
                        "layout|flex": null,
                        "text": "Richiesta nuova tipologia servizio"
                    },
                    "name": "MyButton4",
                    "designerId": "237e2c66-7ff5-4f32-9b45-f59cb9401b71",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onShowWin",
                                "implHandler": [
                                    "var panel = Ext.widget('winnuovatipologiaservizio');",
                                    "panel.show();",
                                    "button.disable();"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "name": "onShowWin",
                            "designerId": "fc95e288-087b-49e7-9a1c-b1461b4982a4"
                        }
                    ]
                }
            ]
        },
        {
            "type": "Ext.panel.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "bodyBorder": true,
                "bodyPadding": 2,
                "layout": "fit",
                "layout|region": "center",
                "padding": 0,
                "title": ""
            },
            "name": "MyPanel4",
            "designerId": "016b39da-b484-48f9-a3d9-05fe232618d9",
            "cn": [
                {
                    "type": "Ext.grid.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "bodyBorder": true,
                        "id": "elencoServiziAdmin",
                        "padding": 5,
                        "store": "storeRichiesteServizi",
                        "title": "Elenco servizi"
                    },
                    "name": "MyGridPanel",
                    "designerId": "a6493046-cc22-4ab8-ad5a-f74fa2229943",
                    "cn": [
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "operatore",
                                "flex": 1,
                                "text": "Operatore"
                            },
                            "name": "MyColumn",
                            "designerId": "0baa4ac6-368d-4dc0-a4fb-ecddbb039b8a",
                            "cn": [
                                {
                                    "type": "Ext.grid.filters.filter.String",
                                    "reference": {
                                        "name": "filter",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyStringFilter2",
                                    "designerId": "43631d1d-112c-4b3a-8ae4-6902a6e03241"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "utenteApprovante",
                                "flex": 1,
                                "text": "Utente approvante"
                            },
                            "name": "MyColumn11",
                            "designerId": "13a8bcfc-4d79-4692-91b5-26d6999cef75",
                            "cn": [
                                {
                                    "type": "Ext.grid.filters.filter.String",
                                    "reference": {
                                        "name": "filter",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyStringFilter2",
                                    "designerId": "a71339f2-b5c2-45da-9f95-5b1166aef465"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "nome",
                                "flex": 1,
                                "text": "Servizio"
                            },
                            "name": "MyColumn6",
                            "designerId": "2f22184f-5a74-4505-a8a2-7be47e864112",
                            "cn": [
                                {
                                    "type": "Ext.grid.filters.filter.String",
                                    "reference": {
                                        "name": "filter",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyStringFilter2",
                                    "designerId": "685d3779-2f2f-467e-b058-d67cba64fd41"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "lotto",
                                "flex": 1,
                                "text": "Lotto"
                            },
                            "name": "MyColumn5",
                            "designerId": "4da221b4-e2e7-4fd6-bb1f-af7c4d149945",
                            "cn": [
                                {
                                    "type": "Ext.grid.filters.filter.String",
                                    "reference": {
                                        "name": "filter",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyStringFilter3",
                                    "designerId": "65733ff0-4c0b-4165-b9ec-4fada3584713"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "tipologia",
                                "flex": 1,
                                "text": "Tipologia"
                            },
                            "name": "MyColumn8",
                            "designerId": "fa9fe080-52fa-40a0-8de1-eaa4812fd21b",
                            "cn": [
                                {
                                    "type": "Ext.grid.filters.filter.String",
                                    "reference": {
                                        "name": "filter",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyStringFilter3",
                                    "designerId": "0479b3f1-c023-4635-8625-394879b4334a"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "operatore",
                                "flex": 1,
                                "text": "Operatore"
                            },
                            "name": "MyColumn22",
                            "designerId": "c3257c99-0fc0-4479-b30f-37a25bce1b5f",
                            "cn": [
                                {
                                    "type": "Ext.grid.filters.filter.String",
                                    "reference": {
                                        "name": "filter",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyStringFilter4",
                                    "designerId": "502abb08-2d61-4a66-a811-5a0130e68549"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "produzione",
                                "flex": 1,
                                "text": "Produzione"
                            },
                            "name": "MyColumn54",
                            "designerId": "3d4ac938-2d9c-4ed4-bdcd-087add69fea4",
                            "cn": [
                                {
                                    "type": "Ext.grid.filters.filter.String",
                                    "reference": {
                                        "name": "filter",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyStringFilter4",
                                    "designerId": "2bebe11e-e539-4fe5-a229-db97191cc77a"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "matricola",
                                "flex": 0.6,
                                "text": "Matricola"
                            },
                            "name": "MyColumn25",
                            "designerId": "007a449d-641a-40e5-b76c-286cfcd6fd6f",
                            "cn": [
                                {
                                    "type": "Ext.grid.filters.filter.String",
                                    "reference": {
                                        "name": "filter",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyStringFilter5",
                                    "designerId": "213cb51f-d3d6-4bc1-94f7-0da4b37ec6bd"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "uorg",
                                "flex": 0.6,
                                "text": "Uorg"
                            },
                            "name": "MyColumn45",
                            "designerId": "ea8b7e4b-b992-46e3-8e24-c69cb6d01a86",
                            "cn": [
                                {
                                    "type": "Ext.grid.filters.filter.String",
                                    "reference": {
                                        "name": "filter",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyStringFilter5",
                                    "designerId": "cb9e774b-2e5f-4981-a162-bf99b4e01c08"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "luogo",
                                "flex": 1,
                                "text": "Luogo"
                            },
                            "name": "MyColumn26",
                            "designerId": "1fdc6b9c-b89f-4428-b3b0-88074d5a680c",
                            "cn": [
                                {
                                    "type": "Ext.grid.filters.filter.String",
                                    "reference": {
                                        "name": "filter",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyStringFilter6",
                                    "designerId": "e46ac82a-77f1-45a1-9253-010925f46808"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Number",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "ore",
                                "flex": 0.4,
                                "text": "Ore"
                            },
                            "name": "MyNumberColumn",
                            "designerId": "e0332588-f05f-480a-951a-1aef233d6784",
                            "cn": [
                                {
                                    "type": "Ext.grid.filters.filter.String",
                                    "reference": {
                                        "name": "filter",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyStringFilter7",
                                    "designerId": "5ed841e4-4b2c-403b-bf6d-aa356dd25363"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Date",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "data",
                                "flex": 1,
                                "format": "d-m-Y",
                                "text": "Data"
                            },
                            "name": "MyDateColumn",
                            "designerId": "1ac46d11-4d89-474c-9906-43b552a77b62",
                            "cn": [
                                {
                                    "type": "Ext.grid.filters.filter.Date",
                                    "reference": {
                                        "name": "filter",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyDateFilter",
                                    "designerId": "cef54c16-7e8b-4374-ade7-fcb14d89cf4f"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Date",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "dataFine",
                                "flex": 1,
                                "format": "d-m-Y",
                                "text": "Data fine"
                            },
                            "name": "MyDateColumn3",
                            "designerId": "11e46be2-5e64-4f74-b3b3-6d158789ac34",
                            "cn": [
                                {
                                    "type": "Ext.grid.filters.filter.Date",
                                    "reference": {
                                        "name": "filter",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyDateFilter",
                                    "designerId": "77361c45-0f42-41cc-9715-ab0426b29eda"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "ora",
                                "flex": 0.5,
                                "text": "Ora"
                            },
                            "name": "MyColumn13",
                            "designerId": "8a034dd0-35d9-4989-9bec-a093cdc124bd",
                            "cn": [
                                {
                                    "type": "Ext.grid.filters.filter.String",
                                    "reference": {
                                        "name": "filter",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyStringFilter8",
                                    "designerId": "0c0ad561-42f3-42a8-9941-8763ee4752d3"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "stato",
                                "flex": 0.7,
                                "text": "Stato"
                            },
                            "name": "MyColumn1",
                            "designerId": "32a9ed97-c854-47ca-815d-0baf3210ba50",
                            "cn": [
                                {
                                    "type": "Ext.grid.filters.filter.String",
                                    "reference": {
                                        "name": "filter",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyStringFilter9",
                                    "designerId": "ed11a7cb-8ade-4acc-93fa-ea49952e0111"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Action",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "align": "center",
                                "dataIndex": "stato",
                                "flex": 0.8,
                                "id": "approvaSubmit1",
                                "text": "Azioni"
                            },
                            "name": "MyActionColumn",
                            "designerId": "d99a6830-ec89-40c9-ac6a-7e9bac4e5cbe",
                            "cn": [
                                {
                                    "type": "actioncolumnitem",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "icon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAGP0lEQVR4Xu1bS3biVhC9JeOkPYozSBpGoTcQoxUEr8B4BW2voDvDNM4JfQLJ0HgFISsIXkG7VyA5G2h7BCcZND3COXwqp54+fgiBHiBA+DRD+0l67+pW1a2PCAa/bxpOKQf6A0DJYPlaljDQ6lZL52nfnExuWKi7H0E4NFm7zjUMftut2rU0n5EIQP5Xp0wWvZOHMvOfINyluYHEezHOiOi7YB2Dz7tVu5V4neGCxQAY83H3Z/vG8N6pLMs3nBsC/aDfjFPcx04CAEZvSHz8b9V2V0V5NwFQ9ohef8gvejW7twoIuwuAd2q3P+DjVUDYdQDAjJvuRel4WRasBYDDmnP4LGedwKK77pvv3y+7ObkuzglG77eKRkgdACWamN5puqHdqZZOlwXBBADPJSynEVIHIN9wPxBQFM1AohyJjlaJ3aYA+CAsrBFSB6DQcBnMt50Lu/Ttb05lj+kvAaN7YZ8tw4JFAFAgLKgRUgcgX3fuRLmxxS8e/kPvYJ8+Mvh9t2qXNwHAohohfQAaTo1AvwTeWRixUQAW1AipAyAR4CCHG8/20SLgbOMA+BqhUy3ZSaxLHQAVun53ihjDJdBXvnNa3gTqTouIXiYdJO7/Jv5gLQDIZiQc7gGSyAgIrsnbiDuE0hT7eG0MAKMYALZVAHwRo/yBx4L1FDSiwEyk7wYRYW0MkI0V6k4bRCcM/uQzod0f8Pkq2j2JCZkCIBBF/QF/HTjGNBKYeSBkBgBxhDSmD4Eo0qODgMAWn3Z/slOvLmUHgIZzRqqQyledqq2cmJckoamcVIpFDZ0R2QHAD18j4tN/3tjtiU1qoW2VPCHOFLIDgJ8Uif3HOb18yBCJEFTrVo/eJjk4k/9nAoCo/c/auCRLFotaVFohlQiRDQBi7H8WCF79AC1fOt+NwKerFDuzAcAc+5+l9g5yCoQTcY5johoRTVd8aXSfFDmyAcAc+1eR4Iu9I2YuWYwig1W7jQiLpsttHvNVtE+xdQDi7P95/e8TC1wGsRxyZn9RFKNoBFkTJlLM99FulN4oiZbCtg+Ab/9SD5CNE6Oi9xWVLGbcMMEdE1xrhF70LfqiyTMJlUdMRwndgUrxJTCN7QMQl74yXzOhPQLcRRxcoe68ZoIkVCqjHILP9esLDacJ0Cs969saAD71LwFU1Ftjvieg2R+itUry46fVzYD2woaHwfhKnvFsnxxVgN02A5SoYboMqe4XRU2Ei+maCBseL2O+7lzYCnSVguvd7E2kw88bt68scFM9nflW4rmu/00PaLJOVZpGqIFQJMahmNXDAE2dYRsFILRB8d5jVMgiMYHSEGwvYusmhzddszEAgnAnXn0ElIlQVD2AFUrgpofMRD3gEWm+GgKtoB1mUodL46Cz7rE5BgTOhtF7jPOPuf86D5kJBsgmQh/gh7zOhe05wy3+NsaALZ5x7qM/A7BpHZA1JqyXAUALoNQruemCyEXpRypdlrYSTHej67/bZwDWxQBRe/77i06NluE1J8PR1uA9B9eQNEWAx9k+RlFp+8g0qM4PrVAylzbLTJQu1BsMnt6pluZeJ9khAElhVXtcfknX+F3gChhSD5wA0FReq/Ec7bc2E0g6jOwh0h5PBCDY90T3yP9jpgEQNcgsKTAwtvhK7wIFSjHKAMUQ9oYeCOQyj6+jZbFC3XG91FqNwE0MWHgMs6bMjMATo/QbYUB0iktPhfWYrLMm788RRex84luAiXg+DcDUBHmcc9gKAGD+McgJFgEgLm6HE2e7BIBenwvmBGNMIJwcmWBBZJ4w7xdYY0wgOwxQPkDq+IweM5q6LQcHMAZg+k17I3cGRRadbWHoXZcOMI0COZATFwbjfMAMZ7d7AEgY+3LfemkxS/Ey/NAqyQkqoCIVXm3GaCIKqBBLe6HG8C7lUlicDcLnJhgwEZKYy96A9PQXZiYARIclwsHrXXKCs7RqIgDMt/0hykGJ2/9WUZlQpp2g6TT3PADkgA8DVCbq+3X3XdAxfnoASINjiKJiSw530Z6/dIFAqsfguYanZgKzzMRLiOgyKGg8KQBmdYuUR2frSGYHogfPLACz3mDW/p5KLiCHyjecnp7bZ+2gsYkQ+FO3aid+8J1YEJGb65Ncu3B46VIPCWcmDdr/AVTvipsjYS5YAAAAAElFTkSuQmCC",
                                        "tooltip": "Visualizza report PDF"
                                    },
                                    "name": "MyActionColumnItem",
                                    "designerId": "15b1fbae-2135-4214-a27f-1daae461b3ab",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "view",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "item",
                                                    "e",
                                                    "record",
                                                    "row"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "var s = record.get('stato');",
                                                    "if ( s === 'Nessuno' || s === 'Non approvato'){",
                                                    "    Ext.Msg.show({",
                                                    "        title:'Operazione non permessa',",
                                                    "        msg: \"La richiesta non è stata approvata, non è presente nessuno report\",",
                                                    "        buttons: Ext.Msg.Ok,",
                                                    "    });",
                                                    "    return;",
                                                    "}",
                                                    "",
                                                    "var stato = 'approvato';",
                                                    "if (record.get('stato') == 'Erogato')stato = 'erogato';",
                                                    "var nomeReport = 'report_' + record.get('richiestaNuovoServizioId') + \"_\" + stato + '.pdf';",
                                                    "",
                                                    "",
                                                    "var win = Ext.create('Ext.window.Window', {",
                                                    "    height: 634,",
                                                    "    width: 780,",
                                                    "    layout: 'border',",
                                                    "    title: 'Report servizio',",
                                                    "    titleAlign: 'center',",
                                                    "    maximizable: true,",
                                                    "    closeAction: 'hide',",
                                                    "    items: [{",
                                                    "        xtype: 'component',",
                                                    "        html : '<iframe src=\"../files/'+ nomeReport + '\" width=\"100%\" height=\"100%\"></iframe>',",
                                                    "    }]",
                                                    "});",
                                                    "win.show();"
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "0ecc4c24-298c-4b6d-a4b0-8e281921e12e"
                                        }
                                    ]
                                },
                                {
                                    "type": "actioncolumnitem",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "icon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADJUlEQVRYR+1XQVITURB9PZgqWREXWmElnIDMCSA7d8ABLOPCNbC0BopQGlkS1i6IR7A8gOEEE05gXGUsF8QVSGCe1TPzk5/JBCZqdEOqKKqSnv9fv379ukcwg0+x5hcfFuRIiA0IiiRaIA+CPbeVvk5mcD9Kdb8lkNWRs4ke5+gGr92O/X0mgMd1v6xB3z23/TsAF+ttZj1H8GXguc1bAZTe+k0ReaFBIWRbgCIYLge7bjUPGKV/viDnEwAcBJ5bmwig9MZfgwP9a+IGNQVC8PSyj41eze3lAaAxpbrfE8hCOp4hK2kdzEoDNYHsj2qAZ91dNyrtGANZtGnmgeeu5c06HadsEnwmjlwyxM9ve+5h1lkRAxosjny2A/4EQFxKORGiCPAUkFWKNAJv5SCTgWwA6AReeXlaBhbrfgOQLYI/hKhRFATWkrZsX/RZsfU0kQG9uOuVp9KI3UEkP0DQCgU9hygLnQVK6ILCYLdcMYn9NQAm8wFj5MeLa1RNtqbDVJy2H8QA6n5VICdpuvMyoMb1AOLr8wn1armt7q7bMGcmALQ7VolheQ2A8bZJleDJO3/j6gotu34KXJ2tVPcHzxNoqnkx5LHd81FMNBtkJQKaeMKtAGzjSC5Zp8NN4+dquXqhKj2LQZA7yoLJHkTHuCzA467nqtNGJchkIAPAPojetbCic2Lo+TyOqZatlPnEAOp+DUQVgqb+F5Gnps2nBxAXukfhzkjWlMb5xU3j0bxsQuQIQBvkVwraQpQhsk7wAMSSYUE1FgOwBtCIGVnePYml0YzR61/fPC8U5j6Z7yNNmL1AAShPiU3T4bJhYHx+xydokeMhJFgSYOkuYwpv+MqZk/dZcREDOuhCRGP+sh+dGWlgEoC77hv7XXWTtvUBGwmjOntMN/0XADbqmQNQtZv1bOI+MGmBmJr/xGDsEuQCMLLDkWckthPhac9G61neT1oDUwOw94BcrZdCdg9gagbsURq77HAX/CclKB36Swhh7/wd8/IwWNPzKlDjHDQllC9DK87RhtOcnyfW7qpcXZDn0Gli7gFYq7mOX30b1t2wnfWi8wvFRFU8abj8MgAAAABJRU5ErkJggg==",
                                        "tooltip": "Imposta la richiesta in lavorazione"
                                    },
                                    "name": "MyActionColumnItem",
                                    "designerId": "2d8c919a-2e6f-4072-a2ab-a9c09713c02f",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "view",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "item",
                                                    "e",
                                                    "record",
                                                    "row"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "if (record.get('stato') === \"Non approvato\"){",
                                                    "    Ext.Msg.show({",
                                                    "        title:'Operazione non permessa',",
                                                    "        msg: \"La richiesta non è stata approvata: non può essere erogata.\",",
                                                    "        buttons: Ext.Msg.Ok,",
                                                    "    });",
                                                    "    return;",
                                                    "}",
                                                    "else if (record.get('stato') === \"Cancellato\"){",
                                                    "    Ext.Msg.show({",
                                                    "        title:'Operazione non permessa',",
                                                    "        msg: \"La richiesta è stata cancellata: non può essere erogata.\",",
                                                    "        buttons: Ext.Msg.Ok,",
                                                    "    });",
                                                    "    return;",
                                                    "}",
                                                    "else if (record.get('stato') === \"In lavorazione\"){",
                                                    "    Ext.Msg.show({",
                                                    "        title:'Operazione non permessa',",
                                                    "        msg: \"La richiesta è in lavorazione, non sono permesse modifiche\",",
                                                    "        buttons: Ext.Msg.Ok,",
                                                    "    });",
                                                    "    return;",
                                                    "}",
                                                    "else if (record.get('stato') === \"Erogato\"){",
                                                    "    Ext.Msg.show({",
                                                    "        title:'Operazione non permessa',",
                                                    "        msg: \"Il servizio è stato erogato, non sono permesse modifiche\",",
                                                    "        buttons: Ext.Msg.Ok,",
                                                    "    });",
                                                    "    return;",
                                                    "}",
                                                    "",
                                                    "",
                                                    "Ext.MessageBox.wait('Approvazione della richiesta in corso..');",
                                                    "Ext.Ajax.request({",
                                                    "    url: '/richiestaNuovoServizio/inLavorazione/' + record.get('richiestaNuovoServizioId'),",
                                                    "    headers: {",
                                                    "        'Authorization': 'Bearer ' + ACCESS_TOKEN,",
                                                    "    },",
                                                    "    method:'POST',",
                                                    "    success: function (response, options) {",
                                                    "        Ext.StoreManager.lookup('storeRichiesteServizi').load();",
                                                    "        Ext.MessageBox.updateProgress(1);",
                                                    "        Ext.MessageBox.hide();",
                                                    "        Ext.Msg.show({",
                                                    "            title:'Richiesta modificata',",
                                                    "            msg: \"Richiesta messa in lavorazione.\",",
                                                    "            buttons: Ext.Msg.Ok,",
                                                    "        });},",
                                                    "    failure: function (response, options) {",
                                                    "        Ext.MessageBox.updateProgress(1);",
                                                    "        Ext.MessageBox.hide();",
                                                    "        Ext.Msg.show({",
                                                    "            title:'Errore con il server',",
                                                    "            msg: \"C'è stato un errore durante l'operazione. Errore: \" + response.status,",
                                                    "            buttons: Ext.Msg.Ok,",
                                                    "        });",
                                                    "    }",
                                                    "",
                                                    "",
                                                    "});",
                                                    ""
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "3c008cc7-f547-4c99-9ef3-7f7ec4cdcd6b"
                                        }
                                    ]
                                },
                                {
                                    "type": "actioncolumnitem",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "icon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACeElEQVRYR91XQW7TQBR9z0kFrMgGlOxyg3hO0HCChhO0nIBkCQ4iEgksSU9AcoKUExBOYPcGsLIpG7OiUht/NE4muKmNJnKiqszKsv7Mf/P+/2/+JwA0hv4ZyCP9vY8lkBeRpyZ5Z7P+zm/T4Zd9OM6eGXou7wcAEZmC+LYDRtoED8051gxIIs+iN2peFkB95A8Ivr2/AOof/CYTfgTQsWJDEAOchP1WT9uXZqAx8scAX1o5zxiZEJYHMPS7YMrAVusaon56KigNYCVQXSFqtggSIrh4rc52EgJbp0V2pRmoDfzagwPnmCJWSUgiXlCmO2Ogcdc5cOdVoEPwqIrJNklIIAg91f0/klDf4snIdytwrPoEAWI6yefolUofstJVUB/5JwQ/bVWOglgqojSI0gD2mYQ6vx5WnaOo35re6oiMli/px5zgY2sWRM5/X6MdD1ScZUAgvyJPpYqqz60umXW1r0IA1k4LDA0AEfm+IDrp+6DbP3IGoiaQr5Gn2vsFIOgYRrLCphm5vEJTM1UKwCpPDiWR3mYXpanWt04rYuhPSB4bshaU50aydwEg7RkEmFxeSU/fyjhKxewg7bjdv5GSUyNW+l8pACu1nINspQ4EcUIOfnit02USc0aguXYuch72VQZMSQCZrPY3cjGAoKmTzfzXcYcD1wiV+Z83mASS9ncWizLVE8+m6OTtLJqOyk1GN5VPa8Z6DsiC0LNG1FcnecC4EoZNCi2uvzYJQs9VuotGguCWcGXEKRfA6uHQ6HIR2iBJiLEuq6fv/U5FOMvGfQG0TTkWArBxYmtzo+ZFemFfjf+1N3ditXWWZ2dKU4CgKO7ZfX8A9MAi6cIss+8AAAAASUVORK5CYII=",
                                        "tooltip": "Imposta la richiesta come erogata"
                                    },
                                    "name": "MyActionColumnItem",
                                    "designerId": "c0f9c2e0-c831-4c6c-9744-e36a7034e6c2",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "view",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "item",
                                                    "e",
                                                    "record",
                                                    "row"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "if (record.get('stato') === \"Non approvato\"){",
                                                    "    Ext.Msg.show({",
                                                    "        title:'Operazione non permessa',",
                                                    "        msg: \"La richiesta non è stata approvata: non può essere erogata.\",",
                                                    "        buttons: Ext.Msg.Ok,",
                                                    "    });",
                                                    "    return;",
                                                    "}",
                                                    "else if (record.get('stato') === \"Cancellato\"){",
                                                    "    Ext.Msg.show({",
                                                    "        title:'Operazione non permessa',",
                                                    "        msg: \"La richiesta è stata cancellata: non può essere erogata.\",",
                                                    "        buttons: Ext.Msg.Ok,",
                                                    "    });",
                                                    "    return;",
                                                    "}",
                                                    "else if (record.get('stato') === \"Erogato\"){",
                                                    "    Ext.Msg.show({",
                                                    "        title:'Operazione non permessa',",
                                                    "        msg: \"Il servizio è stato erogato, non sono permesse modifiche\",",
                                                    "        buttons: Ext.Msg.Ok,",
                                                    "    });",
                                                    "    return;",
                                                    "}",
                                                    "",
                                                    "var uploadWidg = Ext.widget('uploadWin');",
                                                    "uploadWidg.recordRicevuto = record;",
                                                    "uploadWidg.show();"
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "a72c16f0-2670-497c-87e0-32ff3374c9ee"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.view.Table",
                            "reference": {
                                "name": "viewConfig",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyTable",
                            "designerId": "d5476b66-a513-4c31-a2ce-a967791f6bc3"
                        },
                        {
                            "type": "Ext.toolbar.Paging",
                            "reference": {
                                "name": "dockedItems",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "displayInfo": true,
                                "dock": "bottom",
                                "store": "storeRichiesteServizi",
                                "width": 360
                            },
                            "name": "MyPagingToolbar",
                            "designerId": "96092928-b718-46c8-a134-4fb0f408a25a"
                        },
                        {
                            "type": "Ext.grid.filters.Filters",
                            "reference": {
                                "name": "plugins",
                                "type": "array"
                            },
                            "codeClass": null,
                            "name": "MyGridFiltersPlugin1",
                            "designerId": "214a32bf-7e52-4534-93c9-a1a1aa84570a"
                        },
                        {
                            "type": "Ext.toolbar.Toolbar",
                            "reference": {
                                "name": "dockedItems",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dock": "top"
                            },
                            "name": "MyToolbar3",
                            "designerId": "975d06f5-d31b-4dad-afb2-7e8cb1dbd06f",
                            "cn": [
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "icon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAqElEQVQ4T+2TwRHCIBREd9OAJWgBcjZHSzEFGK0lFqB24pGzNEA6SAWuE0cdQMcBvcqN+f8/dmEhklXv3BIX7UHO0lq0lzwqNnwBdM4DmH4cfhQl/w6grOF70++A0LNtDevOlSmoA8/fAp4n/gHAeAeL7jwQnGRmoU+eTQ1ID+GQkcYexCoCSBqIams382OmAhQHZ7QZwos929ZEv5S3KBd4tmtzChVcASYkZKSJGNhEAAAAAElFTkSuQmCC",
                                        "layout|flex": null,
                                        "text": "Duplica richiesta"
                                    },
                                    "name": "MyButton15",
                                    "designerId": "4b20d5f1-544e-4f04-a16b-3c9f4c941b43",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "e"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "if ( Ext.getCmp('elencoServiziAdmin').getSelectionModel().getSelection() === undefined || Ext.getCmp('elencoServiziAdmin').getSelectionModel().getSelection() === null )return;",
                                                    "var record = Ext.getCmp('elencoServiziAdmin').getSelectionModel().getSelection()[0];",
                                                    "Ext.getCmp('lottoAdmin').setValue(record.get('lotto'));",
                                                    "Ext.getCmp('comboTipologiaAdmin').setValue(record.get('tipologia'));",
                                                    "Ext.getCmp('servizioComboAdmin').setValue(record.get('idServizio'));",
                                                    "Ext.getCmp('codiciComboAdmin').setValue(record.get('idServizio'));",
                                                    "Ext.getCmp('produzioneAdmin').setValue(record.get('idProduzione'));",
                                                    "Ext.getCmp('matricolaAdmin').setValue(record.get('idProduzione'));",
                                                    "Ext.getCmp('uorgAdmin').setValue(record.get('uorg'));",
                                                    "Ext.getCmp('luogoAdmin').setValue(record.get('luogoId'));"
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "da12ef73-9d04-4d41-8d84-fda7341ef0aa"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.panel.Panel",
                    "reference": {
                        "name": "dockedItems",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "bodyPadding": 10,
                        "collapsible": true,
                        "dock": "top",
                        "height": 160,
                        "hidden": true,
                        "padding": 1,
                        "title": "Filtri"
                    },
                    "name": "MyPanel3",
                    "designerId": "c827dc84-8bcd-4e08-a6e1-aaf79638349b",
                    "cn": [
                        {
                            "type": "Ext.form.field.Date",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "Label"
                            },
                            "name": "MyDateField1",
                            "designerId": "2a6805c9-2743-4aa3-8378-3fff62aedf90"
                        },
                        {
                            "type": "Ext.form.field.ComboBox",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "Servizio"
                            },
                            "name": "MyComboBox2",
                            "designerId": "86e1931a-1265-462e-a2eb-9d2fa2352760"
                        },
                        {
                            "type": "Ext.form.field.ComboBox",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "Stato"
                            },
                            "name": "MyComboBox3",
                            "designerId": "5fc7f1d0-2b09-4a11-a242-d0578e1d40de"
                        }
                    ]
                }
            ]
        },
        {
            "type": "Ext.panel.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "bodyPadding": 10,
                "collapsible": true,
                "layout|region": "west",
                "padding": 1,
                "title": "Richiesta nuovo servizio",
                "width": 310
            },
            "name": "MyPanel5",
            "designerId": "cfde6d92-8beb-44c1-8dfb-bc21c07a41c0",
            "cn": [
                {
                    "type": "Ext.form.field.ComboBox",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "displayField": "nome",
                        "fieldLabel": "Divisione",
                        "forceSelection": true,
                        "id": "divisioneAdmin",
                        "store": "storeFiliali",
                        "valueField": "nome"
                    },
                    "name": "MyComboBox28",
                    "designerId": "47609428-47c9-401c-a31a-c3a4c97da443",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "changeDivisione",
                                "implHandler": [
                                    "",
                                    "var store = Ext.StoreManager.lookup('storeProduzioni');",
                                    "store.filter({",
                                    "    property: \"divisione\",",
                                    "    value: newValue ,",
                                    "    operator: \"streq\"",
                                    "});",
                                    "",
                                    "var store = Ext.StoreManager.lookup('storeUtenti');",
                                    "store.filter({",
                                    "    property: \"divisione\",",
                                    "    value: newValue ,",
                                    "    operator: \"streq\"",
                                    "});",
                                    "",
                                    "store = Ext.StoreManager.lookup('storeLuoghi');",
                                    "store.filter({",
                                    "    property: \"divisione\",",
                                    "    value: newValue ,",
                                    "    operator: \"streq\"",
                                    "});",
                                    "",
                                    "store = Ext.StoreManager.lookup('storeServizi');",
                                    "store.load();"
                                ],
                                "name": "change",
                                "scope": "me"
                            },
                            "name": "changeDivisione",
                            "designerId": "35e6e314-11fe-4c94-bb5a-53424624fdca"
                        }
                    ]
                },
                {
                    "type": "Ext.form.field.ComboBox",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "displayField": "nameComplete",
                        "fieldLabel": "Manager",
                        "forceSelection": true,
                        "id": "managerAdmin",
                        "queryMode": "local",
                        "store": "storeUtenti",
                        "valueField": "userId"
                    },
                    "name": "MyComboBox30",
                    "designerId": "bca54a76-97ba-446d-b20c-bee610d88371",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "changeManager",
                                "implHandler": [
                                    ""
                                ],
                                "name": "change",
                                "scope": "me"
                            },
                            "name": "changeManager",
                            "designerId": "66fc906f-abcc-44c0-89a0-aaafec8e29aa"
                        }
                    ]
                },
                {
                    "type": "Ext.form.field.ComboBox",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "displayField": "nameComplete",
                        "fieldLabel": "Operatore",
                        "forceSelection": true,
                        "id": "operatoreAdmin",
                        "queryMode": null,
                        "store": "storeUtenti",
                        "valueField": "userId"
                    },
                    "name": "MyComboBox29",
                    "designerId": "7c8a223f-acfe-4712-afe5-eb723661ae02",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "changeOperatore",
                                "implHandler": [
                                    "",
                                    ""
                                ],
                                "name": "change",
                                "scope": "me"
                            },
                            "name": "changeOperatore",
                            "designerId": "e09872f4-9807-4883-8142-38707ded8213"
                        }
                    ]
                },
                {
                    "type": "Ext.form.field.ComboBox",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "displayField": "descrizione",
                        "fieldLabel": "Lotto",
                        "forceSelection": true,
                        "id": "lottoAdmin",
                        "queryMode": "local",
                        "store": [
                            "['Lotto 1', 'Lotto 2', 'Lotto 3', 'Lotto 5']"
                        ],
                        "valueField": "descrizione"
                    },
                    "name": "MyComboBox5",
                    "configAlternates": {
                        "store": "array"
                    },
                    "designerId": "ebd3fa3a-c13e-4ad6-9efc-22ee1b9f2616",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onLottoChange",
                                "implHandler": [
                                    "var lotto = Ext.getCmp('lottoAdmin').getValue(),",
                                    "    tipologia = Ext.getCmp('comboTipologiaAdmin').getValue(),",
                                    "    store = Ext.StoreManager.lookup('storeServizi');",
                                    "store.clearFilter();",
                                    "store.filter('lotto',lotto);",
                                    "if (tipologia !== undefined)store.filter('tipologia',tipologia);",
                                    ""
                                ],
                                "name": "change",
                                "scope": "me"
                            },
                            "name": "onLottoChange",
                            "designerId": "feae5e5a-6697-41a9-96d9-994a304f7377"
                        }
                    ]
                },
                {
                    "type": "Ext.form.field.ComboBox",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "autoSelect": false,
                        "displayField": "descrizione",
                        "fieldLabel": "Tipologia",
                        "forceSelection": true,
                        "id": "comboTipologiaAdmin",
                        "queryMode": "local",
                        "store": [
                            "[\"Canone\",\"Modulo\",\"Richiesta\",\"Trasporto\"]"
                        ],
                        "value": "",
                        "valueField": "descrizione"
                    },
                    "name": "MyComboBox4",
                    "configAlternates": {
                        "store": "array",
                        "value": "string"
                    },
                    "designerId": "4d76b0ad-1755-419b-9e82-477703be1379",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onServizioCombo1Select",
                                "implHandler": [
                                    "",
                                    "var tipologia = Ext.getCmp('comboTipologiaAdmin').getValue();",
                                    "var store = Ext.StoreManager.lookup('storeServizi');",
                                    "store.clearFilter();",
                                    "store.filter('tipologia',tipologia);",
                                    "store.filter('lotto',Ext.getCmp('lottoAdmin').getValue());",
                                    "",
                                    "Ext.getCmp('oreRichiestaAdmin').labelEl.update('Ore');",
                                    "Ext.getCmp('oreRichiestaAdmin').enable();",
                                    "",
                                    "// Disabilitare numero ore per servizi canone e modulo",
                                    "if (tipologia == 'Canone'){",
                                    "    Ext.getCmp('oreRichiestaAdmin').disable();",
                                    "}else if (tipologia == \"Modulo\"){",
                                    "    Ext.getCmp('oreRichiestaAdmin').labelEl.update('Q.ta');",
                                    "    Ext.getCmp('oreRichiestaAdmin').setValue(1);",
                                    "}",
                                    "else if (tipologia == 'Richiesta'){",
                                    "    Ext.getCmp('oreRichiestaAdmin').setValue(4);",
                                    "}",
                                    "else if (tipologia == 'Trasporto'){",
                                    "    Ext.getCmp('oreRichiestaAdmin').setValue(1);",
                                    "}",
                                    "",
                                    ""
                                ],
                                "name": "change",
                                "scope": "me"
                            },
                            "name": "onServizioCombo1Select",
                            "designerId": "42f18e64-88ed-45c4-ba8b-fcf032b683a3"
                        }
                    ]
                },
                {
                    "type": "Ext.form.field.ComboBox",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "displayField": "descrizione",
                        "enableRegEx": true,
                        "fieldLabel": "Produzione",
                        "forceSelection": true,
                        "id": "produzioneAdmin",
                        "store": "storeProduzioni",
                        "valueField": "produzioniId"
                    },
                    "name": "MyComboBox8",
                    "designerId": "e86cdc87-3ee7-4ec3-946e-5d88a0fa0464",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onMatricolaSelect",
                                "implHandler": [
                                    "Ext.getCmp('matricolaAdmin').setValue(record);"
                                ],
                                "name": "select",
                                "scope": "me"
                            },
                            "name": "onMatricolaSelect",
                            "designerId": "45cf44d7-11a5-4fe3-b1ed-d24050e41fb6"
                        }
                    ]
                },
                {
                    "type": "Ext.form.field.ComboBox",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "displayField": "matricola",
                        "enableRegEx": true,
                        "fieldLabel": "Matricola",
                        "forceSelection": true,
                        "id": "matricolaAdmin",
                        "store": "storeProduzioni",
                        "valueField": "produzioniId"
                    },
                    "name": "MyComboBox23",
                    "designerId": "7141bffa-fb89-445b-b2f3-13f6aa5b682a",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onMatricolaSelect1",
                                "implHandler": [
                                    "Ext.getCmp('produzioneAdmin').setValue(record);"
                                ],
                                "name": "select",
                                "scope": "me"
                            },
                            "name": "onMatricolaSelect1",
                            "designerId": "d8875b66-0515-474e-87a2-53813595b80b"
                        }
                    ]
                },
                {
                    "type": "Ext.form.field.ComboBox",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "displayField": "descrizione",
                        "enableRegEx": true,
                        "fieldLabel": "Servizio",
                        "forceSelection": true,
                        "id": "servizioComboAdmin",
                        "queryMode": "local",
                        "store": "storeServizi",
                        "valueField": "serviziId"
                    },
                    "name": "MyComboBox",
                    "designerId": "8cd464b6-13e2-479a-8d81-930756b4262f",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onServizioComboSelect",
                                "implHandler": [
                                    "    Ext.getCmp('codiciComboAdmin').setValue(record);"
                                ],
                                "name": "select",
                                "scope": "me"
                            },
                            "name": "onServizioComboSelect",
                            "designerId": "65b53603-f747-46ce-90ce-08e5f5407a82"
                        }
                    ]
                },
                {
                    "type": "Ext.form.field.ComboBox",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "displayField": "codice",
                        "enableRegEx": true,
                        "fieldLabel": "Voce",
                        "forceSelection": true,
                        "id": "codiciComboAdmin",
                        "queryMode": "local",
                        "store": "storeServizi",
                        "valueField": "serviziId"
                    },
                    "name": "MyComboBox9",
                    "designerId": "4d77a4d6-96be-448e-9263-4cb3e23fe4b9",
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onCodiciComboSelect",
                                "implHandler": [
                                    "Ext.getCmp('servizioComboAdmin').setValue(record);"
                                ],
                                "name": "select",
                                "scope": "me"
                            },
                            "name": "onCodiciComboSelect",
                            "designerId": "0cb75424-284e-4ae7-8f02-98c874550a07"
                        }
                    ]
                },
                {
                    "type": "Ext.form.field.ComboBox",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "displayField": "descrizione",
                        "fieldLabel": "Luogo",
                        "forceSelection": true,
                        "id": "luogoAdmin",
                        "store": "storeLuoghi",
                        "valueField": "luoghiId"
                    },
                    "name": "MyComboBox11",
                    "designerId": "a7cbc096-ca1d-4bbd-8a0e-f9ec39bc3190"
                },
                {
                    "type": "Ext.form.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|displayName": "uorg",
                        "fieldLabel": "Uorg",
                        "id": "uorgAdmin",
                        "name": "uorg"
                    },
                    "name": "MyTextField25",
                    "configAlternates": {
                        "store": "array"
                    },
                    "designerId": "b413e819-c58d-42ef-be95-8c048d0e1f36"
                },
                {
                    "type": "Ext.form.field.Date",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fieldLabel": "Data",
                        "format": "d/m/Y",
                        "id": "dataRichiestaAdmin"
                    },
                    "name": "MyDateField",
                    "designerId": "518b963a-66aa-4f94-a995-b62795526884",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onDataRichiestaSelect",
                                "implHandler": [
                                    "Ext.getCmp('dataFineAdmin').setValue(value);"
                                ],
                                "name": "select",
                                "scope": "me"
                            },
                            "name": "onDataRichiestaSelect",
                            "designerId": "2e131965-d510-492d-a774-d5382babccad"
                        }
                    ]
                },
                {
                    "type": "Ext.form.field.Date",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fieldLabel": "Data fine",
                        "format": "d/m/Y",
                        "id": "dataFineAdmin"
                    },
                    "name": "MyDateField2",
                    "designerId": "4f25aad6-d31e-4c77-8844-2bb170fb360e"
                },
                {
                    "type": "Ext.form.field.Time",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fieldLabel": "Ora",
                        "format": "H:i",
                        "id": "oraRichiestaAdmin"
                    },
                    "name": "MyTimeField",
                    "designerId": "52eabd8b-2c3b-4996-88e1-4670e33b2481"
                },
                {
                    "type": "Ext.form.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "disabled": true,
                        "fieldLabel": "Ore",
                        "id": "oreRichiestaAdmin"
                    },
                    "name": "MyTextField1",
                    "designerId": "92e44b3c-036c-431e-87e9-e75fcd5207f5"
                },
                {
                    "type": "Ext.form.field.TextArea",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fieldLabel": "Note",
                        "id": "noteRichiestaAdmin"
                    },
                    "name": "MyTextArea1",
                    "designerId": "72a7868c-b07a-4d7c-b326-b982020119e2"
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "text": "Richiedi Servizio",
                        "width": 279
                    },
                    "name": "MyButton3",
                    "designerId": "03ee87d4-543f-4a61-9a77-800c04471a44",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onRichiediServizio",
                                "implHandler": [
                                    "Ext.Msg.show({",
                                    "    title: 'Richiesta servizio',",
                                    "    msg: 'Stai per richiedere un servizio, vuoi continuae?',",
                                    "    buttons: Ext.Msg.YESNO,",
                                    "    buttonText: {",
                                    "        no: 'No',",
                                    "        yes: 'Si'",
                                    "    },",
                                    "    fn: function(btn) {",
                                    "        if (btn == 'yes') {",
                                    "            var servizio = Ext.getCmp('servizioComboAdmin').getValue(),",
                                    "                uorg = Ext.getCmp('uorgAdmin').getValue(),",
                                    "                data = Ext.getCmp('dataRichiestaAdmin').getValue(),",
                                    "                ora = Ext.getCmp('oraRichiestaAdmin').getRawValue(),",
                                    "                ore = Ext.getCmp('oreRichiestaAdmin').getValue(),",
                                    "                dataFine = Ext.getCmp('dataFineAdmin').getValue(),",
                                    "                note = Ext.getCmp('noteRichiestaAdmin').getValue(),",
                                    "                filiale = USER.divisione,",
                                    "                stato = \"Nessuno\",",
                                    "                tipologia = Ext.getCmp('comboTipologiaAdmin').getValue(),",
                                    "                lotto = Ext.getCmp('lottoAdmin').getValue(),",
                                    "                matricola = Ext.getCmp('matricolaAdmin').getRawValue(),",
                                    "                produzione = Ext.getCmp('produzioneAdmin').getRawValue(),",
                                    "                luogoId = Ext.getCmp('luogoAdmin').getValue(),",
                                    "                index = (luogoId !== undefined ? Ext.StoreMgr.lookup(\"storeLuoghi\").findExact('luoghiId', luogoId) : undefined),",
                                    "                rec = index !== undefined ? Ext.StoreMgr.lookup(\"storeLuoghi\").getAt(index) : undfined,",
                                    "                luogo = rec !== null ? rec.get('descrizione') + \" ( \" + rec.get('indirizzo') + \" - \" + rec.get('cap') + \" )\" : \"Nessuno\",",
                                    "                importo = Ext.StoreManager.lookup(\"storeServizi\").findRecord('serviziId', servizio).get('importo'),",
                                    "                nomeServizio = Ext.StoreManager.lookup(\"storeServizi\").findRecord('serviziId', servizio).get('descrizione'),",
                                    "                operatore = USER.firstName + \" \" + USER.lastName,",
                                    "                voce = Ext.getCmp('codiciComboAdmin').getRawValue(),",
                                    "                idProduzione = Ext.getCmp('produzioneAdmin').getValue(),",
                                    "                idServizio = Ext.getCmp('servizioComboAdmin').getValue();",
                                    "",
                                    "            var costoTotale = 0;",
                                    "            if (tipologia === 'Canone') costoTotale = importo;",
                                    "            else if (tipologia === 'Modulo') costoTotale = importo * ore;",
                                    "            else if (tipologia === 'Richiesta') costoTotale = importo * ore;",
                                    "            else if (tipologia === 'Trasporto') costoTotale = importo * ore;",
                                    "            if (servizio === undefined || servizio === \"\") {",
                                    "                Ext.Msg.show({",
                                    "                    title: 'Errore',",
                                    "                    msg: \"Non hai selezionato il servizio\",",
                                    "                    buttons: Ext.Msg.Ok,",
                                    "                });",
                                    "                return;",
                                    "            }",
                                    "            if ((data === undefined || data === null)) {",
                                    "                Ext.Msg.show({",
                                    "                    title: 'Errore',",
                                    "                    msg: \"Non hai selezionato una data!\",",
                                    "                    buttons: Ext.Msg.Ok,",
                                    "                });",
                                    "                return;",
                                    "            }",
                                    "            if (tipologia !== 'Canone') {",
                                    "                if (ore === undefined || ore === null) {",
                                    "                    Ext.Msg.show({",
                                    "                        title: \" Errore inserimento dati\",",
                                    "                        msg: \"Devi inserire un quantitativo di ore valido.\"",
                                    "                    });",
                                    "                    return;",
                                    "                }",
                                    "                if (tipologia === 'Modulo' && ore < 1) {",
                                    "                    Ext.Msg.show({",
                                    "                        title: \" Errore inserimento dati\",",
                                    "                        msg: \"Per le richieste di tipo modulo devi richiedere almeno una unita'\"",
                                    "                    });",
                                    "                    return;",
                                    "                }",
                                    "                if (tipologia === 'Richiesta' && ore < 4) {",
                                    "                    Ext.Msg.show({",
                                    "                        title: \" Errore inserimento dati\",",
                                    "                        msg: \"Per i servizi di tipo richiesta selezionare almeno  4 ore di lavoro\"",
                                    "                    });",
                                    "                    return;",
                                    "                }",
                                    "                if (tipologia === 'Trasporto' && ore < 1) {",
                                    "                    Ext.Msg.show({",
                                    "                        title: \" Errore inserimento dati\",",
                                    "                        msg: \"Per i servizi di tipo trasporto selezionare almeno 1 ore di lavoro\"",
                                    "                    });",
                                    "                    return;",
                                    "                }",
                                    "            }",
                                    "",
                                    "            var store = Ext.StoreManager.lookup('storeRichiesteServizi');",
                                    "            var emptyApp = new Rai.model.richiestaServizio();",
                                    "            emptyApp.set('nome', nomeServizio);",
                                    "            emptyApp.set('importo', importo);",
                                    "            emptyApp.set('divisione',Ext.getCmp('divisioneAdmin').getValue());",
                                    "            emptyApp.set('ora', ora);",
                                    "            emptyApp.set('data', data);",
                                    "            emptyApp.set('uorg', uorg);",
                                    "            emptyApp.set('ore', ore);",
                                    "            emptyApp.set('note', note);",
                                    "            emptyApp.set('stato', stato);",
                                    "            emptyApp.set('dataFine', dataFine);",
                                    "            emptyApp.set('tipologia', tipologia);",
                                    "            emptyApp.set('lotto', lotto);",
                                    "            emptyApp.set('matricola', matricola);",
                                    "            emptyApp.set('produzione', produzione);",
                                    "            emptyApp.set('luogo', luogo);",
                                    "            emptyApp.set('operatore', operatore);",
                                    "            emptyApp.set('voce', voce);",
                                    "            emptyApp.set('luogoId', luogoId);",
                                    "            emptyApp.set('idProduzione', idProduzione);",
                                    "            emptyApp.set('idServizio', idServizio);",
                                    "",
                                    "            var oggJson = emptyApp.data;",
                                    "            delete oggJson.richiestaNuovoServizioId;",
                                    "            ",
                                    "            oggJson.data = data.getTime() / 1000;",
                                    "            oggJson.dataFine = dataFine.getTime() / 1000;",
                                    "            oggJson.operatore = Ext.getCmp('operatoreAdmin').getValue();",
                                    "            oggJson.utenteApprovante = Ext.getCmp('managerAdmin').getValue();",
                                    "",
                                    "",
                                    "            // Approvo la richiesta",
                                    "            Ext.MessageBox.wait('Inserisco la richiesta..');",
                                    "            Ext.Ajax.request({",
                                    "                url: '/richiestaNuovoServizio/servizioUrgente',",
                                    "                headers: {",
                                    "                    'Authorization': 'Bearer ' + ACCESS_TOKEN,",
                                    "                },",
                                    "                jsonData:oggJson,",
                                    "                method:'POST',",
                                    "                success: function (response, options) {",
                                    "                    Ext.StoreManager.lookup('storeRichiesteServizi').load();",
                                    "                    Ext.MessageBox.updateProgress(1);",
                                    "                    Ext.MessageBox.hide();",
                                    "                    Ext.Msg.show({",
                                    "                        title:'Richiesta inserita',",
                                    "                        msg: \"Richiesta inserita con successo.\",",
                                    "                        buttons: Ext.Msg.Ok,",
                                    "                    });},",
                                    "                failure: function (response, options) {",
                                    "                    Ext.MessageBox.updateProgress(1);",
                                    "                    Ext.MessageBox.hide();",
                                    "                    Ext.Msg.show({",
                                    "                        title:'Errore con il server',",
                                    "                        msg: \"C'è stato un errore durante l'approvazione della richiesta. Errore: \" + response.status,",
                                    "                        buttons: Ext.Msg.Ok,",
                                    "                    });",
                                    "                }",
                                    "            });",
                                    "",
                                    "",
                                    "            Ext.getCmp('oreRichiestaAdmin').disable();",
                                    "            Ext.getCmp('oreRichiestaAdmin').labelEl.update('Q.ta');",
                                    "            Ext.getCmp('servizioComboAdmin').setValue(null);",
                                    "            Ext.getCmp('uorgAdmin').setValue(null);",
                                    "            Ext.getCmp('dataRichiestaAdmin').setValue(null);",
                                    "            Ext.getCmp('oraRichiestaAdmin').setValue(null);",
                                    "            Ext.getCmp('oreRichiestaAdmin').setValue(null);",
                                    "            Ext.getCmp('dataFineAdmin').setValue(null);",
                                    "            Ext.getCmp('noteRichiestaAdmin').setValue(null);",
                                    "            Ext.getCmp('comboTipologiaAdmin').setValue(null);",
                                    "            Ext.getCmp('lottoAdmin').setValue(null);",
                                    "            Ext.getCmp('dataFineAdmin').setValue(null);",
                                    "            Ext.getCmp('codiciComboAdmin').setValue(null);",
                                    "            Ext.getCmp('matricolaAdmin').setValue(null);",
                                    "            Ext.getCmp('lottoAdmin').setValue(null);",
                                    "            Ext.getCmp('luogoAdmin').setValue(null);",
                                    "            Ext.getCmp('produzioneAdmin').setValue(null);",
                                    "        }",
                                    "    }, animEl: 'elId'",
                                    "});"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "name": "onRichiediServizio",
                            "designerId": "43b38825-7508-408f-9afd-410f5f25b635"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "height": 23,
                        "padding": "",
                        "text": "Annulla",
                        "width": 279
                    },
                    "name": "MyButton17",
                    "designerId": "9955311d-7d12-4d7a-99ae-3f2126efa6d6",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onClear",
                                "implHandler": [
                                    "Ext.getCmp('divisioneAdmin').setValue(null);",
                                    "Ext.getCmp('operatoreAdmin').setValue(null);",
                                    "Ext.getCmp('managerAdmin').setValue(null);",
                                    "",
                                    "",
                                    "",
                                    "Ext.getCmp('servizioComboAdmin').setValue(null);",
                                    "Ext.getCmp('dataRichiestaAdmin').setValue(null);",
                                    "Ext.getCmp('oraRichiestaAdmin').setValue(null);",
                                    "Ext.getCmp('oreRichiestaAdmin').setValue(null);",
                                    "Ext.getCmp('dataFineAdmin').setValue(null);",
                                    "Ext.getCmp('noteRichiestaAdmin').setValue(null);",
                                    "Ext.getCmp('comboTipologiaAdmin').setValue(null);",
                                    "Ext.getCmp('lottoAdmin').setValue(null);",
                                    "Ext.getCmp('dataFineAdmin').setValue(null);",
                                    "Ext.getCmp('codiciComboAdmin').setValue(null);",
                                    "Ext.getCmp('matricolaAdmin').setValue(null);",
                                    "Ext.getCmp('lottoAdmin').setValue(null);",
                                    "Ext.getCmp('luogoAdmin').setValue(null);",
                                    "Ext.getCmp('produzioneAdmin').setValue(null);",
                                    "Ext.getCmp('uorgAdmin').setValue(null);"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "name": "onClear",
                            "designerId": "779efb49-1248-4d4a-9236-7ccd14cc38bd"
                        }
                    ]
                }
            ]
        },
        {
            "type": "viewcontrollereventbinding",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onFrmrichiestanuovoservizioAfterRender",
                "implHandler": [
                    "",
                    "var store = Ext.StoreManager.lookup('storeRichiesteServizi');",
                    "store.sort({",
                    "    property: \"timeStamp\",",
                    "    direction: \"ASC\"",
                    "});",
                    "",
                    "store.load();",
                    "",
                    "store = Ext.StoreManager.lookup('storeServizi');",
                    "store.load();"
                ],
                "name": "afterrender",
                "scope": "me"
            },
            "name": "onFrmrichiestanuovoservizioAfterRender",
            "designerId": "95d920e3-caf6-48b3-8dd5-773f7e6a9589"
        },
        {
            "type": "Ext.panel.Tool",
            "reference": {
                "name": "tools",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "type": "help"
            },
            "name": "MyTool",
            "designerId": "f4f2bab1-266d-4c1b-bdc3-be37a24c9e18",
            "cn": [
                {
                    "type": "viewcontrollereventbinding",
                    "reference": {
                        "name": "listeners",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fn": "onToolClick",
                        "implHandler": [
                            "return ;",
                            "var win = Ext.create('Ext.window.Window', {",
                            "    height: 634,",
                            "    width: 780,",
                            "    layout: 'border',",
                            "    title: 'Report servizio',",
                            "    titleAlign: 'center',",
                            "    maximizable: true,",
                            "    closeAction: 'hide',",
                            "    items: [{",
                            "        xtype: 'component',",
                            "        html : '<iframe src=\"'+ \"http://www.youtube.com/embed/XGSy3_Czz8k?autoplay=1\" + '\" width=\"100%\" height=\"100%\"></iframe>',",
                            "    }]",
                            "});",
                            "win.show();"
                        ],
                        "name": "click",
                        "scope": "me"
                    },
                    "name": "onToolClick",
                    "designerId": "c7208e56-6695-4089-9a4e-ef77d7c5f3bf"
                }
            ]
        }
    ]
}