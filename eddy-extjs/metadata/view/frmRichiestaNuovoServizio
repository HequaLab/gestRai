{
    "type": "Ext.panel.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "container|padding": 2,
        "designer|userAlias": "frmrichiestanuovoservizio",
        "designer|userClassName": "frmRichiestaNuovoServizio",
        "height": 753,
        "id": "frmrichiestanuovoservizio",
        "layout": "border",
        "padding": 0,
        "title": "Area servizi",
        "titleAlign": "center",
        "width": 1278
    },
    "name": "MyPanel3",
    "designerId": "a38e1f14-8d6f-474d-9885-fb0b9a30b9e1",
    "viewControllerInstanceId": "fb0cb773-66f2-4504-ab70-8eb4c7589b24",
    "viewModelInstanceId": "5820a53d-5ece-4c98-a074-7110f989994e",
    "cn": [
        {
            "type": "Ext.toolbar.Toolbar",
            "reference": {
                "name": "dockedItems",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "dock": "top"
            },
            "name": "MyToolbar",
            "designerId": "eeb26506-99ce-41da-bd3c-1a9a652746ad",
            "cn": [
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "hidden": true,
                        "id": "popButton",
                        "layout|flex": null,
                        "text": "Richiesta nuova tipologia servizio"
                    },
                    "name": "MyButton4",
                    "designerId": "792fba57-80c6-42e2-b3f1-30a3efe8331d",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onShowWin",
                                "implHandler": [
                                    "var panel = Ext.widget('winnuovatipologiaservizio');",
                                    "panel.show();",
                                    "button.disable();"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "name": "onShowWin",
                            "designerId": "954dea65-d634-4e6f-bc13-d7645cc96d3a"
                        }
                    ]
                }
            ]
        },
        {
            "type": "Ext.panel.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "bodyBorder": true,
                "bodyPadding": 2,
                "layout": "fit",
                "layout|region": "center",
                "padding": 0,
                "title": ""
            },
            "name": "MyPanel4",
            "designerId": "791f60c8-2043-4c07-a3b6-a227d5440e62",
            "cn": [
                {
                    "type": "Ext.grid.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "bodyBorder": true,
                        "id": "elencoServizi",
                        "padding": 5,
                        "store": "storeRichiesteServizi",
                        "title": "Elenco servizi"
                    },
                    "name": "MyGridPanel",
                    "designerId": "07ee9b31-3cbc-4a39-8ce9-66c821f6d009",
                    "cn": [
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "nome",
                                "flex": 1,
                                "text": "Servizio"
                            },
                            "name": "MyColumn",
                            "designerId": "f417ee99-3af0-4e67-965b-0816650cee5d",
                            "cn": [
                                {
                                    "type": "Ext.grid.filters.filter.String",
                                    "reference": {
                                        "name": "filter",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyStringFilter2",
                                    "designerId": "09cc723e-4470-4f38-86bc-6febb625ef04"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "lotto",
                                "flex": 1,
                                "text": "Lotto"
                            },
                            "name": "MyColumn5",
                            "designerId": "debc5b18-6f0d-4e04-817f-d440fe5bef69",
                            "cn": [
                                {
                                    "type": "Ext.grid.filters.filter.String",
                                    "reference": {
                                        "name": "filter",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyStringFilter3",
                                    "designerId": "dbbeaa7b-a041-44d9-bf1b-100c9c4d76b3"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "tipologia",
                                "flex": 1,
                                "text": "Tipologia"
                            },
                            "name": "MyColumn8",
                            "designerId": "e05490fc-5561-445a-b8fb-48231a25733c",
                            "cn": [
                                {
                                    "type": "Ext.grid.filters.filter.String",
                                    "reference": {
                                        "name": "filter",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyStringFilter3",
                                    "designerId": "49d681b9-98ae-41b0-8714-a7ae9da398ad"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "operatore",
                                "flex": 1,
                                "text": "Operatore"
                            },
                            "name": "MyColumn22",
                            "designerId": "7672a76c-bf19-40a5-9998-5048a45e8ce2",
                            "cn": [
                                {
                                    "type": "Ext.grid.filters.filter.String",
                                    "reference": {
                                        "name": "filter",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyStringFilter4",
                                    "designerId": "a7495b2f-31db-400b-a1b5-7bacfd852ec4"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "produzione",
                                "flex": 1,
                                "text": "Produzione"
                            },
                            "name": "MyColumn54",
                            "designerId": "672e0eeb-6a52-409a-81ec-43471873436c",
                            "cn": [
                                {
                                    "type": "Ext.grid.filters.filter.String",
                                    "reference": {
                                        "name": "filter",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyStringFilter4",
                                    "designerId": "3c2f94c0-47fe-4905-953a-eccfa0eaf0e6"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "matricola",
                                "flex": 0.6,
                                "text": "Matricola"
                            },
                            "name": "MyColumn25",
                            "designerId": "069be6b3-ed86-4065-9640-15c8c071a922",
                            "cn": [
                                {
                                    "type": "Ext.grid.filters.filter.String",
                                    "reference": {
                                        "name": "filter",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyStringFilter5",
                                    "designerId": "c4cc4a7a-09b9-4878-8850-f95c05771f60"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "uorg",
                                "flex": 0.6,
                                "text": "Uorg"
                            },
                            "name": "MyColumn45",
                            "designerId": "9050e996-dfea-45c5-8bd2-58405d6f4601",
                            "cn": [
                                {
                                    "type": "Ext.grid.filters.filter.String",
                                    "reference": {
                                        "name": "filter",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyStringFilter5",
                                    "designerId": "f61871a9-443a-40bd-9589-f6c5c1d0da45"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "luogo",
                                "flex": 1,
                                "text": "Luogo"
                            },
                            "name": "MyColumn26",
                            "designerId": "be7d3a7b-159a-4528-b2c2-40300235ccf6",
                            "cn": [
                                {
                                    "type": "Ext.grid.filters.filter.String",
                                    "reference": {
                                        "name": "filter",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyStringFilter6",
                                    "designerId": "5d115db8-1673-4cf2-940f-a7c9d44a69ec"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Number",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "ore",
                                "flex": 0.4,
                                "text": "Ore"
                            },
                            "name": "MyNumberColumn",
                            "designerId": "461dd691-fa4a-466d-b746-df031e8d2f51",
                            "cn": [
                                {
                                    "type": "Ext.grid.filters.filter.String",
                                    "reference": {
                                        "name": "filter",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyStringFilter7",
                                    "designerId": "97c6d1be-4a98-4e5d-ad75-85e98f7a56ec"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Date",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "data",
                                "flex": 1,
                                "format": "d-m-Y",
                                "text": "Data"
                            },
                            "name": "MyDateColumn",
                            "designerId": "6488cd77-a385-4c6c-a5ab-10a8f4aa681e",
                            "cn": [
                                {
                                    "type": "Ext.grid.filters.filter.Date",
                                    "reference": {
                                        "name": "filter",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyDateFilter",
                                    "designerId": "f4dad79d-fbef-4ede-80f0-99a6afcd1394"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Date",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "dataFine",
                                "flex": 1,
                                "format": "d-m-Y",
                                "text": "Data fine"
                            },
                            "name": "MyDateColumn3",
                            "designerId": "27777c6c-a22b-4cc1-a935-c8ca4ca044bb",
                            "cn": [
                                {
                                    "type": "Ext.grid.filters.filter.Date",
                                    "reference": {
                                        "name": "filter",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyDateFilter",
                                    "designerId": "d8137dde-8bec-4dbb-bfc1-485e967c5895"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "ora",
                                "flex": 0.5,
                                "text": "Ora"
                            },
                            "name": "MyColumn13",
                            "designerId": "0590af8b-b128-4bfe-a13a-05af4c3bcfc6",
                            "cn": [
                                {
                                    "type": "Ext.grid.filters.filter.String",
                                    "reference": {
                                        "name": "filter",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyStringFilter8",
                                    "designerId": "23efcfa4-a03e-4bf3-bc25-548e4155a18a"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "stato",
                                "flex": 0.7,
                                "text": "Stato"
                            },
                            "name": "MyColumn1",
                            "designerId": "78763799-5b5b-4947-9c6f-71008433eed8",
                            "cn": [
                                {
                                    "type": "Ext.grid.filters.filter.String",
                                    "reference": {
                                        "name": "filter",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyStringFilter9",
                                    "designerId": "b7c36099-ddf4-435e-8ab5-64318932424b"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Action",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "align": "center",
                                "dataIndex": "stato",
                                "flex": 0.8,
                                "hidden": true,
                                "id": "approvaSubmit",
                                "text": "Approva"
                            },
                            "name": "MyActionColumn",
                            "designerId": "473b32e2-41fe-4448-9a6e-bb53bda0b7e9",
                            "cn": [
                                {
                                    "type": "actioncolumnitem",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "icon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABK0lEQVQ4T6WTzW2DQBBG3zjh7hJcAi1wtTnsVmBSQZwO6CBxB3YDsFJwlFsogRIogWOk/Gy0CNASI4iUPe7M92Z25xvhn0ecfpurZAX7P7CaQhvt8lSu1kabRuJcpdZyEOFpCSBQ3UD5AW8Cm2+IZJepZiUkz9qYJYCr2onDLrftwAJRoU05B5gQu/TjCOCSPmFfaHP0YVNiC+eLNskAuIWqb8/C6aLNXf9Zv9qmF7v4ALAQCjz2lR0kgIc58Qjg/mCXq5OMx9kAaw96DuDwDutXbeorgLuYgLT6vu0uXhfapJOAKYj/5jhTJUI5C/AhvtjdXwHmjLTNVfiiTeWPNM5UZaWdUuvc1srAPSxbGQitJQqEjduDFjAskyVZsrIV6i9I+wkMgCXhXPwH92avn25K/20AAAAASUVORK5CYII=",
                                        "tooltip": "Approva la richiesta"
                                    },
                                    "name": "MyActionColumnItem",
                                    "designerId": "f0c5e2ff-9331-41a4-a09f-f8af25ba1fb9",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "view",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "item",
                                                    "e",
                                                    "record",
                                                    "row"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "",
                                                    "Ext.Msg.show({",
                                                    "    title:'Richiesta conferma',",
                                                    "    msg: 'Stai per approvare la richiesta, vuoi continuare??',",
                                                    "    buttons: Ext.Msg.YESNO,",
                                                    "    buttonText: {",
                                                    "        no:'No',",
                                                    "        yes:'Si'",
                                                    "    },",
                                                    "    fn: function(btn){",
                                                    "        if (btn=='yes'){",
                                                    "",
                                                    "            if (record.get('stato') === \"Approvato\"){",
                                                    "                Ext.Msg.show({",
                                                    "                    title:'Operazione non permessa',",
                                                    "                    msg: \"La richiesta è stata approvata, non sono permesse modifiche\",",
                                                    "                    buttons: Ext.Msg.Ok,",
                                                    "                });",
                                                    "                return;",
                                                    "            }else if (record.get('stato') === \"Non approvato\"){",
                                                    "                Ext.Msg.show({",
                                                    "                    title:'Operazione non permessa',",
                                                    "                    msg: \"La richiesta non è stata approvata, non sono permesse modifiche\",",
                                                    "                    buttons: Ext.Msg.Ok,",
                                                    "                });",
                                                    "                return;",
                                                    "            }",
                                                    "            else if (record.get('stato') === \"Cancellato\"){",
                                                    "                Ext.Msg.show({",
                                                    "                    title:'Operazione non permessa',",
                                                    "                    msg: \"La richiesta è stata cancellata, non sono permesse modifiche\",",
                                                    "                    buttons: Ext.Msg.Ok,",
                                                    "                });",
                                                    "                return;",
                                                    "            }",
                                                    "            else if (record.get('stato') === \"In lavorazione\"){",
                                                    "                Ext.Msg.show({",
                                                    "                    title:'Operazione non permessa',",
                                                    "                    msg: \"La richiesta è in lavorazione, non sono permesse modifiche\",",
                                                    "                    buttons: Ext.Msg.Ok,",
                                                    "                });",
                                                    "                return;",
                                                    "            }",
                                                    "            else if (record.get('stato') === \"Erogato\"){",
                                                    "                Ext.Msg.show({",
                                                    "                    title:'Operazione non permessa',",
                                                    "                    msg: \"Il servizio è stato erogato, non sono permesse modifiche\",",
                                                    "                    buttons: Ext.Msg.Ok,",
                                                    "                });",
                                                    "                return;",
                                                    "            }",
                                                    "",
                                                    "            // record.set('stato',\"Approvato\");",
                                                    "",
                                                    "            Ext.MessageBox.wait('Approvazione della richiesta in corso..');",
                                                    "            Ext.Ajax.request({",
                                                    "                url: '/richiestaNuovoServizio/approvaRichiesta/' + record.get('richiestaNuovoServizioId'),",
                                                    "                headers: {",
                                                    "                    'Authorization': 'Bearer ' + ACCESS_TOKEN,",
                                                    "                },",
                                                    "                method:'POST',",
                                                    "                success: function (response, options) {",
                                                    "                    Ext.StoreManager.lookup('storeRichiesteServizi').load();",
                                                    "                    Ext.MessageBox.updateProgress(1);",
                                                    "                    Ext.MessageBox.hide();",
                                                    "                    Ext.Msg.show({",
                                                    "                        title:'Richiesta approvata',",
                                                    "                        msg: \"Richiesta approvata con successo.\",",
                                                    "                        buttons: Ext.Msg.Ok,",
                                                    "                    });},",
                                                    "                failure: function (response, options) {",
                                                    "                    Ext.MessageBox.updateProgress(1);",
                                                    "                    Ext.MessageBox.hide();",
                                                    "                    Ext.Msg.show({",
                                                    "                        title:'Errore con il server',",
                                                    "                        msg: \"C'è stato un errore durante l'approvazione della richiesta. Errore: \" + response.status,",
                                                    "                        buttons: Ext.Msg.Ok,",
                                                    "                    });",
                                                    "                }",
                                                    "",
                                                    "",
                                                    "            });",
                                                    "",
                                                    "",
                                                    "        }",
                                                    "    },",
                                                    "    animEl: 'elId'",
                                                    "});",
                                                    "",
                                                    "",
                                                    "",
                                                    "",
                                                    "",
                                                    ""
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "ad4a0616-27bb-4063-82f9-e88be106d1de"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Action",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "align": "center",
                                "dataIndex": "stato",
                                "flex": 0.8,
                                "hidden": true,
                                "id": "rifiutaSubmit",
                                "text": "Rifiuta"
                            },
                            "name": "MyActionColumn3",
                            "designerId": "de708600-6943-4baf-97e2-0de9f7baf801",
                            "cn": [
                                {
                                    "type": "actioncolumnitem",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "icon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABZ0lEQVQ4T5VTMVLDMBDcy5Aa+EF4AeYFuGHsjjCDe3hBQufwAOyO5AXQK4Xp4qEg/MC8AJ6Q1GFYRrKVyAqEQZ183t273ZPAO2k/7skeBxCEgAR1mRWIOT9lkhezDxci7iVNorFABj5p606Os2l5Y7+tCdIkqgRybAsElwKpjD4YCGR/Q8QqU+WJvhsCV1kDARnmavbY6u4yKkTk3BGY5Kocipm5i/dGadnBV3inno2yPWkSXwnw4I/GFY6krY7rLWUPTPLJdkJwognM7Lr1XJUHu5SJWiBNokXtCSsZJTEb0GumZuFvbVuwro+SeA7g1Jj4E4E/swveIljHRy6yaXn4F7hJzYxA8K1lIsACkP4mqt2m1iY6MboG+m3r2m1yFpCdF4gYs02M/iLVJCwyVV5sJULer8FgvUgb19urDHLBZpUFDCzQT+zfj0nPrZWtcIvAjNOPe+hS/xDax6XdBjDHSsb+c/4GOP3Lq93zK2QAAAAASUVORK5CYII=",
                                        "tooltip": "Rifiuta la richiesta"
                                    },
                                    "name": "MyActionColumnItem",
                                    "designerId": "c647df9b-14c2-45ad-9e1f-f58ca9ef7666",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "view",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "item",
                                                    "e",
                                                    "record",
                                                    "row"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "",
                                                    "Ext.Msg.show({",
                                                    "    title:'Richiesta conferma',",
                                                    "    msg: 'Stai per rifiutare la richiesta, vuoi continuare??',",
                                                    "    buttons: Ext.Msg.YESNO,",
                                                    "    buttonText: {",
                                                    "        no:'No',",
                                                    "        yes:'Si'",
                                                    "    },",
                                                    "    fn: function(btn){",
                                                    "        if (btn=='yes'){",
                                                    "",
                                                    "            if (record.get('stato') === \"Approvato\"){",
                                                    "                Ext.Msg.show({",
                                                    "                    title:'Operazione non permessa',",
                                                    "                    msg: \"La richiesta è stata approvata, non sono permesse modifiche\",",
                                                    "                    buttons: Ext.Msg.Ok,",
                                                    "                });",
                                                    "                return;",
                                                    "            }else if (record.get('stato') === \"Non approvato\"){",
                                                    "                Ext.Msg.show({",
                                                    "                    title:'Operazione non permessa',",
                                                    "                    msg: \"La richiesta non è stata approvata, non sono permesse modifiche\",",
                                                    "                    buttons: Ext.Msg.Ok,",
                                                    "                });",
                                                    "                return;",
                                                    "            }",
                                                    "            else if (record.get('stato') === \"Cancellato\"){",
                                                    "                Ext.Msg.show({",
                                                    "                    title:'Operazione non permessa',",
                                                    "                    msg: \"La richiesta è stata cancellata, non sono permesse modifiche\",",
                                                    "                    buttons: Ext.Msg.Ok,",
                                                    "                });",
                                                    "                return;",
                                                    "            }",
                                                    "            else if (record.get('stato') === \"In lavorazione\"){",
                                                    "                Ext.Msg.show({",
                                                    "                    title:'Operazione non permessa',",
                                                    "                    msg: \"La richiesta è in lavorazione, non sono permesse modifiche\",",
                                                    "                    buttons: Ext.Msg.Ok,",
                                                    "                });",
                                                    "                return;",
                                                    "            }",
                                                    "            else if (record.get('stato') === \"Erogato\"){",
                                                    "                Ext.Msg.show({",
                                                    "                    title:'Operazione non permessa',",
                                                    "                    msg: \"Il servizio è stato erogato, non sono permesse modifiche\",",
                                                    "                    buttons: Ext.Msg.Ok,",
                                                    "                });",
                                                    "                return;",
                                                    "            }",
                                                    "",
                                                    "",
                                                    "            Ext.MessageBox.wait('Rifiuto della richiesta in corso...');",
                                                    "            Ext.Ajax.request({",
                                                    "                url: '/richiestaNuovoServizio/rifiutaRichiesta/' + record.get('richiestaNuovoServizioId'),",
                                                    "                headers: {",
                                                    "                    'Authorization': 'Bearer ' + ACCESS_TOKEN,",
                                                    "                },",
                                                    "                method:'POST',",
                                                    "                success: function (response, options) {",
                                                    "                    Ext.StoreManager.lookup('storeRichiesteServizi').load();",
                                                    "                    Ext.MessageBox.updateProgress(1);",
                                                    "                    Ext.MessageBox.hide();",
                                                    "                    Ext.Msg.show({",
                                                    "                        title:'Richiesta rifiutata',",
                                                    "                        msg: \"Richiesta rifiutata con successo.\",",
                                                    "                        buttons: Ext.Msg.Ok,",
                                                    "                    });},",
                                                    "                failure: function (response, options) {",
                                                    "                    Ext.MessageBox.updateProgress(1);",
                                                    "                    Ext.MessageBox.hide();Ext.Msg.show({",
                                                    "                        title:'Errore con il server',",
                                                    "                        msg: \"C'è stato un errore durante il rifiuto della richiesta. Errore: \" + response.status,",
                                                    "                        buttons: Ext.Msg.Ok,",
                                                    "                    });",
                                                    "                }",
                                                    "",
                                                    "",
                                                    "            });",
                                                    "        }",
                                                    "    },",
                                                    "    animEl: 'elId'",
                                                    "});",
                                                    "",
                                                    "",
                                                    "",
                                                    "",
                                                    ""
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "b2d13d67-6d5c-4c34-8dc4-240669c82121"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Action",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "align": "center",
                                "dataIndex": "stato",
                                "flex": 0.8,
                                "id": "eliminaSubmit",
                                "text": "Elimina"
                            },
                            "name": "MyActionColumn4",
                            "designerId": "9575ecbe-0bb9-4031-bd89-521059b17ff9",
                            "cn": [
                                {
                                    "type": "actioncolumnitem",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "icon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAy0lEQVQ4T+2SPQ6CQBCF3ywtxKNoA60KB9Cj4A24gRxFDwBiC40exWDLjpmNaPhxo7Gwcbt5M/vNy8sQRt41CnhMd7OS+vpAkAEDYL1hhZPUpDEDqa0VUEfBjoDV2Oa+xsDey8q1gbfNOgwSgBfvAAAqvLxMOgBjPfRTEKZWCOPs5lXcznQyqEO/IKK5DcDMRy+vHk4HAPksAxIkk14am6wOEqAsaPsvHfwBz5B+FyIRJo5G3CgqAL4fDKWO5kWjkDLjYr2Drw/pU8ANZfC4EZwIficAAAAASUVORK5CYII=",
                                        "tooltip": "Elimina la richiesta"
                                    },
                                    "name": "MyActionColumnItem",
                                    "designerId": "8a874b7b-2d0a-4974-8e30-981cbbdf0464",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "view",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "item",
                                                    "e",
                                                    "record",
                                                    "row"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "",
                                                    "Ext.Msg.show({",
                                                    "    title:'Richiesta conferma',",
                                                    "    msg: 'Stai per eliminare la richiesta, vuoi continuare??',",
                                                    "    buttons: Ext.Msg.YESNO,",
                                                    "    buttonText: {",
                                                    "        no:'No',",
                                                    "        yes:'Si'",
                                                    "    },",
                                                    "    fn: function(btn){",
                                                    "        if (btn=='yes'){",
                                                    "",
                                                    "            if (record.get('stato') === \"Approvato\"){",
                                                    "                Ext.Msg.show({",
                                                    "                    title:'Operazione non permessa',",
                                                    "                    msg: \"La richiesta è stata approvata, non sono permesse modifiche\",",
                                                    "                    buttons: Ext.Msg.Ok,",
                                                    "                });",
                                                    "                return;",
                                                    "            }else if (record.get('stato') === \"Non approvato\"){",
                                                    "                Ext.Msg.show({",
                                                    "                    title:'Operazione non permessa',",
                                                    "                    msg: \"La richiesta non è stata approvata, non sono permesse modifiche\",",
                                                    "                    buttons: Ext.Msg.Ok,",
                                                    "                });",
                                                    "                return;",
                                                    "            }",
                                                    "            else if (record.get('stato') === \"Cancellato\"){",
                                                    "                Ext.Msg.show({",
                                                    "                    title:'Operazione non permessa',",
                                                    "                    msg: \"La richiesta è stata cancellata, non sono permesse modifiche\",",
                                                    "                    buttons: Ext.Msg.Ok,",
                                                    "                });",
                                                    "                return;",
                                                    "            }",
                                                    "            else if (record.get('stato') === \"In lavorazione\"){",
                                                    "                Ext.Msg.show({",
                                                    "                    title:'Operazione non permessa',",
                                                    "                    msg: \"La richiesta è in lavorazione, non sono permesse modifiche\",",
                                                    "                    buttons: Ext.Msg.Ok,",
                                                    "                });",
                                                    "                return;",
                                                    "            }",
                                                    "            else if (record.get('stato') === \"Erogato\"){",
                                                    "                Ext.Msg.show({",
                                                    "                    title:'Operazione non permessa',",
                                                    "                    msg: \"Il servizio è stato erogato, non sono permesse modifiche\",",
                                                    "                    buttons: Ext.Msg.Ok,",
                                                    "                });",
                                                    "                return;",
                                                    "            }",
                                                    "",
                                                    "",
                                                    "            /*",
                                                    "            Possibilità di eliminare la richiesta ad operatore [Il manager devono poter eliminare una richiesta anche approvata",
                                                    "            ma possono farlo al massimo fino a 12 ore prima dall’inizio della richiesta",
                                                    "            */",
                                                    "",
                                                    "            Ext.MessageBox.wait('Rimozione della richiesta in corso...');",
                                                    "",
                                                    "            Ext.Ajax.request({",
                                                    "                url: '/richiestaNuovoServizio/eliminaRichiesta/' + record.get('richiestaNuovoServizioId'),",
                                                    "                headers: {",
                                                    "                    'Authorization': 'Bearer ' + ACCESS_TOKEN,",
                                                    "                },",
                                                    "                method:'POST',",
                                                    "                success: function (response, options) {",
                                                    "                    Ext.StoreManager.lookup('storeRichiesteServizi').load();",
                                                    "                    Ext.MessageBox.updateProgress(1);",
                                                    "                    Ext.MessageBox.hide();",
                                                    "",
                                                    "                    Ext.Msg.show({",
                                                    "                        title:'Richiesta eliminata',",
                                                    "                        msg: \"Richiesta eliminata\",",
                                                    "                        buttons: Ext.Msg.Ok,",
                                                    "                    });},",
                                                    "                failure: function (response, options) {",
                                                    "                    Ext.MessageBox.updateProgress(1);",
                                                    "                    Ext.MessageBox.hide();",
                                                    "                    Ext.Msg.show({",
                                                    "                        title:'Errore',",
                                                    "                        msg: response.responseText,",
                                                    "                        buttons: Ext.Msg.Ok,",
                                                    "                    });",
                                                    "                }",
                                                    "",
                                                    "",
                                                    "            });",
                                                    "",
                                                    "",
                                                    "        }",
                                                    "    },",
                                                    "    animEl: 'elId'",
                                                    "});",
                                                    "",
                                                    "",
                                                    "",
                                                    "",
                                                    ""
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "abc71219-af9d-42c0-aab1-5cbda69f97cd"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.view.Table",
                            "reference": {
                                "name": "viewConfig",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyTable",
                            "designerId": "cc42cc04-2bc4-440e-b412-0a70d09c6c7d"
                        },
                        {
                            "type": "Ext.toolbar.Paging",
                            "reference": {
                                "name": "dockedItems",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "displayInfo": true,
                                "dock": "bottom",
                                "store": "storeRichiesteServizi",
                                "width": 360
                            },
                            "name": "MyPagingToolbar",
                            "designerId": "7479a1d3-8242-46be-9deb-2e113ad6db38"
                        },
                        {
                            "type": "Ext.grid.filters.Filters",
                            "reference": {
                                "name": "plugins",
                                "type": "array"
                            },
                            "codeClass": null,
                            "name": "MyGridFiltersPlugin1",
                            "designerId": "0ad9c9f6-e39f-435f-8048-5fcc28ca3408"
                        },
                        {
                            "type": "Ext.toolbar.Toolbar",
                            "reference": {
                                "name": "dockedItems",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dock": "top"
                            },
                            "name": "MyToolbar3",
                            "designerId": "e34066dd-e42f-4017-8ed8-6df30c9dc653",
                            "cn": [
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "icon": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAqElEQVQ4T+2TwRHCIBREd9OAJWgBcjZHSzEFGK0lFqB24pGzNEA6SAWuE0cdQMcBvcqN+f8/dmEhklXv3BIX7UHO0lq0lzwqNnwBdM4DmH4cfhQl/w6grOF70++A0LNtDevOlSmoA8/fAp4n/gHAeAeL7jwQnGRmoU+eTQ1ID+GQkcYexCoCSBqIams382OmAhQHZ7QZwos929ZEv5S3KBd4tmtzChVcASYkZKSJGNhEAAAAAElFTkSuQmCC",
                                        "layout|flex": null,
                                        "text": "Duplica richiesta"
                                    },
                                    "name": "MyButton15",
                                    "designerId": "8ec96a0d-4e50-4a75-b2ad-3a7715a305d9",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "e"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "if ( Ext.getCmp('elencoServizi').getSelectionModel().getSelection() === undefined || Ext.getCmp('elencoServizi').getSelectionModel().getSelection() === null )return;",
                                                    "var record = Ext.getCmp('elencoServizi').getSelectionModel().getSelection()[0];",
                                                    "Ext.getCmp('lotto').setValue(record.get('lotto'));",
                                                    "Ext.getCmp('comboTipologia').setValue(record.get('tipologia'));",
                                                    "Ext.getCmp('servizioCombo').setValue(record.get('idServizio'));",
                                                    "Ext.getCmp('codiciCombo').setValue(record.get('idServizio'));",
                                                    "Ext.getCmp('produzione').setValue(record.get('idProduzione'));",
                                                    "Ext.getCmp('matricola').setValue(record.get('idProduzione'));",
                                                    "Ext.getCmp('uorg').setValue(record.get('uorg'));",
                                                    "Ext.getCmp('luogo').setValue(record.get('luogoId'));",
                                                    "",
                                                    "",
                                                    ""
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "90fb894a-016d-41a9-b7e8-acf78adaaab1"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.panel.Panel",
                    "reference": {
                        "name": "dockedItems",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "bodyPadding": 10,
                        "collapsible": true,
                        "dock": "top",
                        "height": 160,
                        "hidden": true,
                        "padding": 1,
                        "title": "Filtri"
                    },
                    "name": "MyPanel3",
                    "designerId": "a8812fba-6123-4c6f-93b6-751109ed8ee3",
                    "cn": [
                        {
                            "type": "Ext.form.field.Date",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "Label"
                            },
                            "name": "MyDateField1",
                            "designerId": "51db5f32-fc7d-4a86-bc6c-5634c1aefce2"
                        },
                        {
                            "type": "Ext.form.field.ComboBox",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "Servizio"
                            },
                            "name": "MyComboBox2",
                            "designerId": "4ac9f1f7-b507-442b-91f6-f2be58976b93"
                        },
                        {
                            "type": "Ext.form.field.ComboBox",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "Stato"
                            },
                            "name": "MyComboBox3",
                            "designerId": "4998985b-bb60-4324-ad7b-ad366bf49f5e"
                        }
                    ]
                }
            ]
        },
        {
            "type": "Ext.panel.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "bodyPadding": 10,
                "collapsible": true,
                "layout|region": "west",
                "padding": 1,
                "title": "Richiesta nuovo servizio",
                "width": 310
            },
            "name": "MyPanel5",
            "designerId": "bb305374-a3b4-400c-b294-3a955b1dbeb4",
            "cn": [
                {
                    "type": "Ext.form.field.ComboBox",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "displayField": "descrizione",
                        "fieldLabel": "Lotto",
                        "forceSelection": true,
                        "id": "lotto",
                        "queryMode": "local",
                        "store": [
                            "['Lotto 1', 'Lotto 2', 'Lotto 3', 'Lotto 5']"
                        ],
                        "valueField": "descrizione"
                    },
                    "name": "MyComboBox5",
                    "configAlternates": {
                        "store": "array"
                    },
                    "designerId": "b915aa57-cb0e-46c6-b038-74e377a5d486",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onLottoChange",
                                "implHandler": [
                                    "var lotto = Ext.getCmp('lotto').getValue(),",
                                    "    tipologia = Ext.getCmp('comboTipologia').getValue(),",
                                    "    store = Ext.StoreManager.lookup('storeServizi');",
                                    "store.clearFilter();",
                                    "store.filter('lotto',lotto);",
                                    "if (tipologia !== undefined)store.filter('tipologia',tipologia);",
                                    ""
                                ],
                                "name": "change",
                                "scope": "me"
                            },
                            "name": "onLottoChange",
                            "designerId": "76dc3275-d02b-4fae-bb6a-10311923907f"
                        }
                    ]
                },
                {
                    "type": "Ext.form.field.ComboBox",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "autoSelect": false,
                        "displayField": "descrizione",
                        "fieldLabel": "Tipologia",
                        "forceSelection": true,
                        "id": "comboTipologia",
                        "queryMode": "local",
                        "store": [
                            "[\"Canone\",\"Modulo\",\"Richiesta\",\"Trasporto\"]"
                        ],
                        "value": "",
                        "valueField": "descrizione"
                    },
                    "name": "MyComboBox4",
                    "configAlternates": {
                        "store": "array",
                        "value": "string"
                    },
                    "designerId": "28c1d3cc-6394-427e-b2c4-d3ecc230047c",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onServizioCombo1Select",
                                "implHandler": [
                                    "",
                                    "var tipologia = Ext.getCmp('comboTipologia').getValue();",
                                    "var store = Ext.StoreManager.lookup('storeServizi');",
                                    "store.clearFilter();",
                                    "store.filter('tipologia',tipologia);",
                                    "store.filter('lotto',Ext.getCmp('lotto').getValue());",
                                    "",
                                    "Ext.getCmp('oreRichiesta').labelEl.update('Ore');",
                                    "Ext.getCmp('oreRichiesta').enable();",
                                    "",
                                    "// Disabilitare numero ore per servizi canone e modulo",
                                    "if (tipologia == 'Canone'){",
                                    "    Ext.getCmp('oreRichiesta').disable();",
                                    "}else if (tipologia == \"Modulo\"){",
                                    "    Ext.getCmp('oreRichiesta').labelEl.update('Q.ta');",
                                    "    Ext.getCmp('oreRichiesta').setValue(1);",
                                    "}",
                                    "else if (tipologia == 'Richiesta'){",
                                    "    Ext.getCmp('oreRichiesta').setValue(4);",
                                    "}",
                                    "else if (tipologia == 'Trasporto'){",
                                    "    Ext.getCmp('oreRichiesta').setValue(1);",
                                    "}",
                                    "",
                                    ""
                                ],
                                "name": "change",
                                "scope": "me"
                            },
                            "name": "onServizioCombo1Select",
                            "designerId": "4cb0a5c8-c7b1-4fe1-adf2-e0c66e22a616"
                        }
                    ]
                },
                {
                    "type": "Ext.form.field.ComboBox",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "displayField": "descrizione",
                        "enableRegEx": true,
                        "fieldLabel": "Produzione",
                        "forceSelection": true,
                        "id": "produzione",
                        "store": "storeProduzioni",
                        "valueField": "produzioniId"
                    },
                    "name": "MyComboBox8",
                    "designerId": "0e69685b-8c26-4571-a16f-34c756eb928f",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onMatricolaSelect",
                                "implHandler": [
                                    "Ext.getCmp('matricola').setValue(record);"
                                ],
                                "name": "select",
                                "scope": "me"
                            },
                            "name": "onMatricolaSelect",
                            "designerId": "f3eed1a5-7062-4e70-8970-4c3a10af0037"
                        }
                    ]
                },
                {
                    "type": "Ext.form.field.ComboBox",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "displayField": "matricola",
                        "enableRegEx": true,
                        "fieldLabel": "Matricola",
                        "forceSelection": true,
                        "id": "matricola",
                        "store": "storeProduzioni",
                        "valueField": "produzioniId"
                    },
                    "name": "MyComboBox23",
                    "designerId": "a5c92f2d-8bf2-44c8-8966-c4a109bf2ef8",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onMatricolaSelect1",
                                "implHandler": [
                                    "Ext.getCmp('produzione').setValue(record);"
                                ],
                                "name": "select",
                                "scope": "me"
                            },
                            "name": "onMatricolaSelect1",
                            "designerId": "3953f6fa-08e0-4649-9eee-025fc461c00a"
                        }
                    ]
                },
                {
                    "type": "Ext.form.field.ComboBox",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "displayField": "descrizione",
                        "enableRegEx": true,
                        "fieldLabel": "Servizio",
                        "forceSelection": true,
                        "id": "servizioCombo",
                        "queryMode": "local",
                        "store": "storeServizi",
                        "valueField": "serviziId"
                    },
                    "name": "MyComboBox",
                    "designerId": "9e6bac79-9750-49b1-9f14-b2efa18597fe",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onServizioComboSelect",
                                "implHandler": [
                                    "    Ext.getCmp('codiciCombo').setValue(record);"
                                ],
                                "name": "select",
                                "scope": "me"
                            },
                            "name": "onServizioComboSelect",
                            "designerId": "78115f3d-ec55-4ff7-beed-3ee62875b637"
                        }
                    ]
                },
                {
                    "type": "Ext.form.field.ComboBox",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "displayField": "codice",
                        "enableRegEx": true,
                        "fieldLabel": "Voce",
                        "forceSelection": true,
                        "id": "codiciCombo",
                        "queryMode": "local",
                        "store": "storeServizi",
                        "valueField": "serviziId"
                    },
                    "name": "MyComboBox9",
                    "designerId": "937502bc-d967-4130-9526-81116bfe7112",
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onCodiciComboSelect",
                                "implHandler": [
                                    "Ext.getCmp('servizioCombo').setValue(record);"
                                ],
                                "name": "select",
                                "scope": "me"
                            },
                            "name": "onCodiciComboSelect",
                            "designerId": "9149eac3-fb54-499f-b783-0603bf205dcc"
                        }
                    ]
                },
                {
                    "type": "Ext.form.field.ComboBox",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "displayField": "descrizione",
                        "fieldLabel": "Luogo",
                        "forceSelection": true,
                        "id": "luogo",
                        "store": "storeLuoghi",
                        "valueField": "luoghiId"
                    },
                    "name": "MyComboBox11",
                    "designerId": "ec1e8f4b-2a79-4ef3-92a1-f623a3332dad"
                },
                {
                    "type": "Ext.form.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|displayName": "uorg",
                        "fieldLabel": "Uorg",
                        "id": "uorg",
                        "name": "uorg"
                    },
                    "name": "MyTextField25",
                    "configAlternates": {
                        "store": "array"
                    },
                    "designerId": "14ddf0f5-7030-4e42-b44e-511e9df34486"
                },
                {
                    "type": "Ext.form.field.Date",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fieldLabel": "Data",
                        "format": "d/m/Y",
                        "id": "dataRichiesta"
                    },
                    "name": "MyDateField",
                    "designerId": "bf17d271-b892-4cd8-bdfe-c32cca72c3fd",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onDataRichiestaSelect",
                                "implHandler": [
                                    "Ext.getCmp('dataFine').setValue(value);"
                                ],
                                "name": "select",
                                "scope": "me"
                            },
                            "name": "onDataRichiestaSelect",
                            "designerId": "49de1f13-084e-44ef-8cd6-ace790ae4900"
                        }
                    ]
                },
                {
                    "type": "Ext.form.field.Date",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fieldLabel": "Data fine",
                        "format": "d/m/Y",
                        "id": "dataFine"
                    },
                    "name": "MyDateField2",
                    "designerId": "53728a09-4bb9-4372-a9de-10fb1938ed8f"
                },
                {
                    "type": "Ext.form.field.Time",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fieldLabel": "Ora",
                        "format": "H:i",
                        "id": "oraRichiesta"
                    },
                    "name": "MyTimeField",
                    "designerId": "1bd4b6f7-058f-43f4-b2c4-3ff421270f40"
                },
                {
                    "type": "Ext.form.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "disabled": true,
                        "fieldLabel": "Ore",
                        "id": "oreRichiesta"
                    },
                    "name": "MyTextField1",
                    "designerId": "fa4f86bb-8bbd-4cf5-890c-507c25094788"
                },
                {
                    "type": "Ext.form.field.TextArea",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fieldLabel": "Note",
                        "id": "noteRichiesta"
                    },
                    "name": "MyTextArea1",
                    "designerId": "687c15da-f417-4d57-a0f9-b7f0c37ccdd0"
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "text": "Richiedi Servizio",
                        "width": 279
                    },
                    "name": "MyButton3",
                    "designerId": "982bbe89-9998-4900-b89e-281eadfe0ff6",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onRichiediServizio",
                                "implHandler": [
                                    "Ext.Msg.show({",
                                    "    title: 'Richiesta servizio',",
                                    "    msg: 'Stai per richiedere un servizio, vuoi continuae?',",
                                    "    buttons: Ext.Msg.YESNO,",
                                    "    buttonText: {",
                                    "        no: 'No',",
                                    "        yes: 'Si'",
                                    "    },",
                                    "    fn: function(btn) {",
                                    "        if (btn == 'yes') {",
                                    "            var servizio = Ext.getCmp('servizioCombo').getValue(),",
                                    "                uorg = Ext.getCmp('uorg').getValue(),",
                                    "                data = Ext.getCmp('dataRichiesta').getValue(),",
                                    "                ora = Ext.getCmp('oraRichiesta').getRawValue(),",
                                    "                ore = Ext.getCmp('oreRichiesta').getValue(),",
                                    "                dataFine = Ext.getCmp('dataFine').getValue(),",
                                    "                note = Ext.getCmp('noteRichiesta').getValue(),",
                                    "                filiale = USER.divisione,",
                                    "                stato = \"Nessuno\",",
                                    "                tipologia = Ext.getCmp('comboTipologia').getValue(),",
                                    "                lotto = Ext.getCmp('lotto').getValue(),",
                                    "                matricola = Ext.getCmp('matricola').getRawValue(),",
                                    "                produzione = Ext.getCmp('produzione').getRawValue(),",
                                    "                luogoId = Ext.getCmp('luogo').getValue(),",
                                    "                index = (luogoId !== undefined ? Ext.StoreMgr.lookup(\"storeLuoghi\").findExact('luoghiId', luogoId) : undefined),",
                                    "                rec = index !== undefined ? Ext.StoreMgr.lookup(\"storeLuoghi\").getAt(index) : undfined,",
                                    "                luogo = rec !== null ? rec.get('descrizione') + \" ( \" + rec.get('indirizzo') + \" - \" + rec.get('cap') + \" )\" : \"Nessuno\",",
                                    "                importo = Ext.StoreManager.lookup(\"storeServizi\").findRecord('serviziId', servizio).get('importo'),",
                                    "                nomeServizio = Ext.StoreManager.lookup(\"storeServizi\").findRecord('serviziId', servizio).get('descrizione'),",
                                    "                operatore = USER.firstName + \" \" + USER.lastName,",
                                    "                voce = Ext.getCmp('codiciCombo').getRawValue(),",
                                    "                idProduzione = Ext.getCmp('produzione').getValue(),",
                                    "                idServizio = Ext.getCmp('servizioCombo').getValue();",
                                    "            var costoTotale = 0;",
                                    "            if (tipologia === 'Canone') costoTotale = importo;",
                                    "            else if (tipologia === 'Modulo') costoTotale = importo * ore;",
                                    "            else if (tipologia === 'Richiesta') costoTotale = importo * ore;",
                                    "            else if (tipologia === 'Trasporto') costoTotale = importo * ore;",
                                    "            if (servizio === undefined || servizio === \"\") {",
                                    "                Ext.Msg.show({",
                                    "                    title: 'Errore',",
                                    "                    msg: \"Non hai selezionato il servizio\",",
                                    "                    buttons: Ext.Msg.Ok,",
                                    "                });",
                                    "                return;",
                                    "            }",
                                    "            if ((data === undefined || data === null)) {",
                                    "                Ext.Msg.show({",
                                    "                    title: 'Errore',",
                                    "                    msg: \"Non hai selezionato una data!\",",
                                    "                    buttons: Ext.Msg.Ok,",
                                    "                });",
                                    "                return;",
                                    "            }",
                                    "            if (tipologia !== 'Canone') {",
                                    "                if (ore === undefined || ore === null) {",
                                    "                    Ext.Msg.show({",
                                    "                        title: \" Errore inserimento dati\",",
                                    "                        msg: \"Devi inserire un quantitativo di ore valido.\"",
                                    "                    });",
                                    "                    return;",
                                    "                }",
                                    "                if (tipologia === 'Modulo' && ore < 1) {",
                                    "                    Ext.Msg.show({",
                                    "                        title: \" Errore inserimento dati\",",
                                    "                        msg: \"Per le richieste di tipo modulo devi richiedere almeno una unita'\"",
                                    "                    });",
                                    "                    return;",
                                    "                }",
                                    "                if (tipologia === 'Richiesta' && ore < 4) {",
                                    "                    Ext.Msg.show({",
                                    "                        title: \" Errore inserimento dati\",",
                                    "                        msg: \"Per i servizi di tipo richiesta selezionare almeno  4 ore di lavoro\"",
                                    "                    });",
                                    "                    return;",
                                    "                }",
                                    "                if (tipologia === 'Trasporto' && ore < 1) {",
                                    "                    Ext.Msg.show({",
                                    "                        title: \" Errore inserimento dati\",",
                                    "                        msg: \"Per i servizi di tipo trasporto selezionare almeno 1 ore di lavoro\"",
                                    "                    });",
                                    "                    return;",
                                    "                }",
                                    "            }",
                                    "",
                                    "            var store = Ext.StoreManager.lookup('storeRichiesteServizi');",
                                    "            var emptyApp = new Rai.model.richiestaServizio();",
                                    "            emptyApp.set('nome', nomeServizio);",
                                    "            emptyApp.set('importo', importo);",
                                    "            emptyApp.set('divisione', filiale);",
                                    "            emptyApp.set('ora', ora);",
                                    "            emptyApp.set('data', data);",
                                    "            emptyApp.set('uorg', uorg);",
                                    "            emptyApp.set('ore', ore);",
                                    "            emptyApp.set('note', note);",
                                    "            emptyApp.set('stato', stato);",
                                    "            emptyApp.set('dataFine', dataFine);",
                                    "            emptyApp.set('tipologia', tipologia);",
                                    "            emptyApp.set('lotto', lotto);",
                                    "            emptyApp.set('matricola', matricola);",
                                    "            emptyApp.set('produzione', produzione);",
                                    "            emptyApp.set('luogo', luogo);",
                                    "            emptyApp.set('operatore', operatore);",
                                    "            emptyApp.set('voce', voce);",
                                    "            emptyApp.set('luogoId', luogoId);",
                                    "            emptyApp.set('idProduzione', idProduzione);",
                                    "            emptyApp.set('idServizio', idServizio);",
                                    "            Ext.Ajax.request({",
                                    "                url: '/richiestaNuovoServizio/controlloOrdine',",
                                    "                headers: {",
                                    "                    'Authorization': 'Bearer ' + ACCESS_TOKEN,",
                                    "                    'Content-Type': 'application/json'",
                                    "                },",
                                    "                method: 'POST',",
                                    "                jsonData: {",
                                    "                    nome: nomeServizio,",
                                    "                    divisione: filiale,",
                                    "                    ora: ora,",
                                    "                    data: data.getTime() / 1000,",
                                    "                    uorg: uorg,",
                                    "                    ore: ore,",
                                    "                    note: note,",
                                    "                    dataFine: dataFine.getTime() / 1000,",
                                    "                    tipologia: tipologia,",
                                    "                    lotto: lotto,",
                                    "                    matricola: matricola,",
                                    "                    produzione: produzione,",
                                    "                    luogo: luogo",
                                    "                },",
                                    "                success: function(response, options) {",
                                    "                    if (response.responseText === \"YES\") {",
                                    "                        Ext.Msg.show({",
                                    "                            title: 'Richiesta servizio',",
                                    "                            msg: \"E' gia stato richiesto un servizio simile da un altro operatore, sei sicuro di voler continuare?\",",
                                    "                            buttons: Ext.Msg.YESNO,",
                                    "                            buttonText: {",
                                    "                                no: 'No',",
                                    "                                yes: 'Si'",
                                    "                            },",
                                    "                            fn: function(btn) {",
                                    "                                if (btn == 'no') {",
                                    "                                    return;",
                                    "                                } else {",
                                    "                                    Ext.MessageBox.wait('Creazione richiesta in corso..', \"Attedi\", {",
                                    "                                        interval: 1000, //bar will move fast!",
                                    "                                        duration: 50000, // 5 secondi?",
                                    "                                        increment: 10,",
                                    "                                        text: '',",
                                    "                                        scope: this,",
                                    "                                    });",
                                    "                                    store.add(emptyApp);",
                                    "                                    var self = this;",
                                    "                                    store.on('write', function() {",
                                    "                                        store.load();",
                                    "                                        Ext.MessageBox.updateProgress(1);",
                                    "                                        Ext.MessageBox.hide();",
                                    "                                    });",
                                    "                                }",
                                    "                            }",
                                    "                        });",
                                    "                    } else {",
                                    "                        Ext.MessageBox.wait('Creazione richiesta in corso..', \"Attedi\", {",
                                    "                            interval: 1000, //bar will move fast!",
                                    "                            duration: 50000, // 5 secondi?",
                                    "                            increment: 10,",
                                    "                            text: '',",
                                    "                            scope: this,",
                                    "                        });",
                                    "                        store.add(emptyApp);",
                                    "                        var self = this;",
                                    "                        store.on('write', function() {",
                                    "                            store.load();",
                                    "                            Ext.MessageBox.updateProgress(1);",
                                    "                            Ext.MessageBox.hide();",
                                    "                        });",
                                    "                    }",
                                    "                    //  Ext.getCmp('comboTipologia').setValue('Canone');",
                                    "                },",
                                    "                failure: function(response, options) {",
                                    "                    Ext.Msg.show({",
                                    "                        title: 'Errore server durante richiesta servizio',",
                                    "                        msg: \"Risposta: \" + response,",
                                    "                        buttons: Ext.Msg.Ok,",
                                    "                    });",
                                    "                }",
                                    "            });",
                                    "            Ext.getCmp('oreRichiesta').disable();",
                                    "            Ext.getCmp('oreRichiesta').labelEl.update('Q.ta');",
                                    "            Ext.getCmp('servizioCombo').setValue(null);",
                                    "            Ext.getCmp('uorg').setValue(null);",
                                    "            Ext.getCmp('dataRichiesta').setValue(null);",
                                    "            Ext.getCmp('oraRichiesta').setValue(null);",
                                    "            Ext.getCmp('oreRichiesta').setValue(null);",
                                    "            Ext.getCmp('dataFine').setValue(null);",
                                    "            Ext.getCmp('noteRichiesta').setValue(null);",
                                    "            Ext.getCmp('comboTipologia').setValue(null);",
                                    "            Ext.getCmp('lotto').setValue(null);",
                                    "            Ext.getCmp('dataFine').setValue(null);",
                                    "            Ext.getCmp('codiciCombo').setValue(null);",
                                    "            Ext.getCmp('matricola').setValue(null);",
                                    "            Ext.getCmp('lotto').setValue(null);",
                                    "            Ext.getCmp('luogo').setValue(null);",
                                    "            Ext.getCmp('produzione').setValue(null);",
                                    "        }",
                                    "    }, animEl: 'elId'",
                                    "});"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "name": "onRichiediServizio",
                            "designerId": "806dec4e-43f2-4465-9ee3-2615a77a185d"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "height": 23,
                        "padding": "",
                        "text": "Annulla",
                        "width": 279
                    },
                    "name": "MyButton17",
                    "designerId": "95194010-c5e4-4a36-b791-b86d8925c1ae",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onClear",
                                "implHandler": [
                                    "    Ext.getCmp('servizioCombo').setValue(null);",
                                    "            Ext.getCmp('dataRichiesta').setValue(null);",
                                    "            Ext.getCmp('oraRichiesta').setValue(null);",
                                    "            Ext.getCmp('oreRichiesta').setValue(null);",
                                    "            Ext.getCmp('dataFine').setValue(null);",
                                    "            Ext.getCmp('noteRichiesta').setValue(null);",
                                    "            Ext.getCmp('comboTipologia').setValue(null);",
                                    "            Ext.getCmp('lotto').setValue(null);",
                                    "            Ext.getCmp('dataFine').setValue(null);",
                                    "            Ext.getCmp('codiciCombo').setValue(null);",
                                    "            Ext.getCmp('matricola').setValue(null);",
                                    "            Ext.getCmp('lotto').setValue(null);",
                                    "            Ext.getCmp('luogo').setValue(null);",
                                    "            Ext.getCmp('produzione').setValue(null);",
                                    "            Ext.getCmp('uorg').setValue(null);"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "name": "onClear",
                            "designerId": "bc919944-491c-4047-ba23-5f458463c693"
                        }
                    ]
                }
            ]
        },
        {
            "type": "viewcontrollereventbinding",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onFrmrichiestanuovoservizioAfterRender",
                "implHandler": [
                    "",
                    "var store = Ext.StoreManager.lookup('storeRichiesteServizi');",
                    "store.filter({",
                    "    property: \"divisione\",",
                    "    value: USER.divisione ,",
                    "    operator: \"streq\"",
                    "});",
                    "",
                    "store.sort({",
                    "    property: \"timeStamp\",",
                    "    direction: \"ASC\"",
                    "});",
                    "",
                    "//store.load();",
                    "",
                    "store = Ext.StoreManager.lookup('storeProduzioni');",
                    "store.filter({",
                    "    property: \"divisione\",",
                    "    value: USER.divisione ,",
                    "    operator: \"streq\"",
                    "});",
                    "",
                    "store = Ext.StoreManager.lookup('storeLuoghi');",
                    "store.filter({",
                    "    property: \"divisione\",",
                    "    value: USER.divisione ,",
                    "    operator: \"streq\"",
                    "});",
                    "",
                    "store = Ext.StoreManager.lookup('storeServizi');",
                    "store.load();",
                    "",
                    "if (USER.roles.toLowerCase().indexOf(\"soperatore\") >= 0){",
                    "    Ext.getCmp('approvaSubmit').setVisible(true);",
                    "    Ext.getCmp('rifiutaSubmit').setVisible(true);",
                    "",
                    "}"
                ],
                "name": "afterrender",
                "scope": "me"
            },
            "name": "onFrmrichiestanuovoservizioAfterRender",
            "designerId": "82ffd8d9-62e2-4b76-abdb-2bd92b2c899b"
        },
        {
            "type": "Ext.panel.Tool",
            "reference": {
                "name": "tools",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "type": "help"
            },
            "name": "MyTool",
            "designerId": "fc1da99b-34f7-41af-b6e1-3c0a1d18a50d",
            "cn": [
                {
                    "type": "viewcontrollereventbinding",
                    "reference": {
                        "name": "listeners",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fn": "onToolClick",
                        "implHandler": [
                            "return ;",
                            "var win = Ext.create('Ext.window.Window', {",
                            "    height: 634,",
                            "    width: 780,",
                            "    layout: 'border',",
                            "    title: 'Report servizio',",
                            "    titleAlign: 'center',",
                            "    maximizable: true,",
                            "    closeAction: 'hide',",
                            "    items: [{",
                            "        xtype: 'component',",
                            "        html : '<iframe src=\"'+ \"http://www.youtube.com/embed/XGSy3_Czz8k?autoplay=1\" + '\" width=\"100%\" height=\"100%\"></iframe>',",
                            "    }]",
                            "});",
                            "win.show();"
                        ],
                        "name": "click",
                        "scope": "me"
                    },
                    "name": "onToolClick",
                    "designerId": "d9411278-0905-4fdc-8e07-d9ebdc70c15f"
                }
            ]
        }
    ]
}